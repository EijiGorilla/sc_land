{"version":3,"file":"static/js/2214.d4e9a266.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/support/elevationInfoUtils.js","../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/support/projectionUtils.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/RenderObject.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js","../node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/interactive/dragEventPipeline.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{c as e}from\"./vec4f64.js\";import{ScreenSizeScaling as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{ShaderOutput as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as d}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{symbolAlphaCutoff as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as s,addViewNormal as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float3PassUniform as c}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as m}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as v}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{TransparencyPassType as f}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as u}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function p(e){const p=new v,b=e.multipassEnabled&&(e.output===r.Color||e.output===r.Alpha);p.include(a,e),p.include(o,e),p.include(i,e);const{vertex:h,fragment:C}=p;return C.include(n),s(h,e),C.uniforms.add(new g(\"uColor\",(e=>e.color))),p.attributes.add(u.POSITION,\"vec3\"),p.varyings.add(\"vWorldPosition\",\"vec3\"),b&&p.varyings.add(\"depth\",\"float\"),e.screenSizeEnabled&&p.attributes.add(u.OFFSET,\"vec3\"),e.shadingEnabled&&(t(h),p.attributes.add(u.NORMAL,\"vec3\"),p.varyings.add(\"vViewNormal\",\"vec3\")),h.code.add(m`\n    void main(void) {\n      vWorldPosition = ${e.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),e.shadingEnabled&&h.code.add(m`vec3 worldNormal = normal;\nvViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),h.code.add(m`\n    ${b?\"depth = (view * vec4(vWorldPosition, 1.0)).z;\":\"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),b&&p.include(d,e),C.code.add(m`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${b?\"terrainDepthTest(depth);\":\"\"}\n    `),e.shadingEnabled?(C.uniforms.add(new c(\"shadingDirection\",(e=>e.shadingDirection))),C.uniforms.add(new g(\"shadedColor\",(e=>w(e.shadingTint,e.color)))),C.code.add(m`vec3 viewNormalNorm = normalize(vViewNormal);\nfloat shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\nvec4 finalColor = mix(uColor, shadedColor, shadingFactor);`)):C.code.add(m`vec4 finalColor = uColor;`),C.code.add(m`\n      ${e.output===r.ObjectAndLayerIdColor?m`finalColor.a = 1.0;`:\"\"}\n      if (finalColor.a < ${m.float(l)}) {\n        discard;\n      }\n      ${e.output===r.Alpha?m`fragColor = vec4(finalColor.a);`:\"\"}\n\n      ${e.output===r.Color?m`fragColor = highlightSlice(finalColor, vWorldPosition); ${e.transparencyPassType===f.Color?\"fragColor = premultiplyAlpha(fragColor);\":\"\"}`:\"\"}\n    }\n    `),p}function w(e,o){const r=1-e[3],i=e[3]+o[3]*r;return 0===i?(b[3]=i,b):(b[0]=(e[0]*e[3]+o[0]*o[3]*r)/i,b[1]=(e[1]*e[3]+o[1]*o[3]*r)/i,b[2]=(e[2]*e[3]+o[2]*o[3]*r)/i,b[3]=o[3],b)}const b=e(),h=Object.freeze(Object.defineProperty({__proto__:null,build:p},Symbol.toStringTag,{value:\"Module\"}));export{h as S,p as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnit as e}from\"../symbols/support/unitConversionUtils.js\";function n(e){return e?y:Z}function t(e,t){return t?.mode?t.mode:n(e).mode}function o(e,t){return null!=t?t:n(e)}function r(e,n){return t(null!=e&&e.hasZ,n)}function u(e,n){return o(null!=e&&!!e.hasZ,n)}function l(e){const n=a(e);return r(e.geometry,n)}function s(n){const t=a(n),o=r(n.geometry,t);return{mode:o,offset:null!=t&&\"on-the-ground\"!==o?(t.offset??0)*e(t.unit??\"meters\"):0}}function i(e){if(\"on-the-ground\"===l(e))return!1;const n=a(e),t=n?.featureExpressionInfo?n.featureExpressionInfo.expression:null;return!(!t||\"0\"===t)}function a(e){return e.layer&&\"elevationInfo\"in e.layer?e.layer.elevationInfo:null}function f(e,n,t){if(!t?.mode)return;const o=e.hasZ?e.z:0,r=null!=t.offset?t.offset:0;switch(t.mode){case\"absolute-height\":return o-r;case\"on-the-ground\":return 0;case\"relative-to-ground\":return o-((n.elevationProvider.getElevation(e.x,e.y,o,e.spatialReference,\"ground\")??0)+r);case\"relative-to-scene\":return o-((n.elevationProvider.getElevation(e.x,e.y,o,e.spatialReference,\"scene\")??0)+r)}}function c(e,n,t,o=null){return v(e,n.x,n.y,n.hasZ?n.z:0,n.spatialReference,t,o)}function d(e,n,t,o,r=null){return v(e,n[0],n[1],n.length>2?n[2]:0,t,o,r)}function v(e,n,t,o,r,u,l=null){if(null==u)return;const s=null!=l?l.mode:\"absolute-height\";if(\"on-the-ground\"===s)return 0;const{absoluteZ:i}=g(n,t,o,r,e,u);return h(i,n,t,o,r,e,l,s)}function g(e,n,t,o,r,u){const l=null!=u.offset?u.offset:0;switch(u.mode){case\"absolute-height\":return{absoluteZ:t+l,elevation:0};case\"on-the-ground\":{const t=r.elevationProvider.getElevation(e,n,0,o,\"ground\")??0;return{absoluteZ:t,elevation:t}}case\"relative-to-ground\":{const u=r.elevationProvider.getElevation(e,n,t,o,\"ground\")??0;return{absoluteZ:t+u+l,elevation:u}}case\"relative-to-scene\":{const u=r.elevationProvider.getElevation(e,n,t,o,\"scene\")??0;return{absoluteZ:t+u+l,elevation:u}}}}function h(e,n,t,o,r,u,l,s){const i=null!=l?.offset?l.offset:0;switch(s){case\"absolute-height\":return e-i;case\"relative-to-ground\":return e-((u.elevationProvider.getElevation(n,t,o,r,\"ground\")??0)+i);case\"relative-to-scene\":return e-((u.elevationProvider.getElevation(n,t,o,r,\"scene\")??0)+i)}}function m(e,n){if(null==n)return!1;const{mode:t}=n;return null!=t&&(\"scene\"===e&&\"relative-to-scene\"===t||\"ground\"===e&&\"absolute-height\"!==t)}function p(e,n,t){return t&&t.mode!==n?`${e} only support ${n} elevation mode`:null}function b(e,n,t){return t?.mode===n?`${e} do not support ${n} elevation mode`:null}function E(e,n){return null!=n?.featureExpressionInfo&&\"0\"!==n.featureExpressionInfo.expression?`${e} do not support featureExpressionInfo`:null}function x(e,n){n&&e.warn(\".elevationInfo=\",n)}const y={mode:\"absolute-height\",offset:0},Z={mode:\"on-the-ground\",offset:null};function I(e,n){return e===n||null!=e&&null!=n&&e.mode===n.mode&&e.offset===n.offset}export{y as absoluteHeightElevationInfo,m as elevationContextAffectsAlignment,I as elevationInfoLikeEquals,p as elevationModeRequiredMessage,b as elevationModeUnsupportedMessage,E as featureExpressionUnsupportedMessage,c as getConvertedElevation,d as getConvertedElevationFromVector,o as getEffectiveElevationInfo,t as getEffectiveElevationMode,u as getGeometryEffectiveElevationInfo,r as getGeometryEffectiveElevationMode,s as getGraphicEffectiveElevationInfo,l as getGraphicEffectiveElevationMode,f as getZForElevationMode,i as hasGraphicFeatureExpressionInfo,x as logInvalidElevationInfoWarning,Z as onTheGroundElevationInfo,g as zValueInAbsoluteHeightMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{EsriPromiseMixin as r}from\"../../../core/Promise.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";const s=s=>{let n=class extends(r(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([o({readOnly:!0})],n.prototype,\"type\",void 0),e([o({constructOnly:!0})],n.prototype,\"analysis\",void 0),e([o({constructOnly:!0})],n.prototype,\"parent\",void 0),e([o({constructOnly:!0})],n.prototype,\"view\",void 0),e([o({type:Boolean})],n.prototype,\"interactive\",null),e([o()],n.prototype,\"_userInteractive\",void 0),e([o({readOnly:!0})],n.prototype,\"updating\",null),e([o()],n.prototype,\"visible\",null),e([o()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([i(\"esri.views.3d.analysis.AnalysisView3D\")],n),n};export{s as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{tryProjectWithZConversion as o}from\"../../../../geometry/projection.js\";import{getElevationAtPoint as e}from\"../../support/ElevationProvider.js\";function r(r,t,i,n=!1){const l=o(r,t);return null==l?null:(l.hasZ&&!n||null==i||(l.z=e(i,l)??0),l)}function t(o,e,r){r.warnOnce(`Failed to project analysis geometry (id: '${o.id}'), projection from spatial reference (wkid: '${e.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}export{r as applyProjectionAndElevationAlignment,t as logFailedGeometryProjectionError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{neverReached as e}from\"../../../core/compilerUtils.js\";import t from\"../../../core/Evented.js\";import{makeHandle as i}from\"../../../core/handleUtils.js\";import{deg2rad as s}from\"../../../core/mathUtils.js\";import{destroyMaybe as o}from\"../../../core/maybe.js\";import{createScreenPointArray as n,createRenderScreenPointArray3 as r,screenPointObjectToArray as a,castRenderScreenPointArray as c}from\"../../../core/screenUtils.js\";import{f as l}from\"../../../chunks/mat3.js\";import{a as h}from\"../../../chunks/mat3f64.js\";import{h as d,s as _,m as u,g}from\"../../../chunks/mat4.js\";import{a as m}from\"../../../chunks/mat4f64.js\";import{k as f}from\"../../../chunks/vec2.js\";import{g as p,t as b,e as v,i as y,c as j,a as L,s as S,f as R}from\"../../../chunks/vec3.js\";import{c as O,Z as w}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as T}from\"../../../geometry/ellipsoidUtils.js\";import{canProjectWithoutEngine as A,projectPoint as E}from\"../../../geometry/projection.js\";import{computeENUToSphericalPCPFLocalRotation as D}from\"../../../geometry/projection/localRotationUtils.js\";import{sphericalPCPFtoLonLatElevation as k}from\"../../../geometry/projection/projectors.js\";import{containsPointObject as F}from\"../../../geometry/support/aaBoundingRect.js\";import{create as z,distance2 as C,fromPoints as P,closestRayDistance2 as I}from\"../../../geometry/support/lineSegment.js\";import{create as M,fromPositionAndNormal as x,intersectRay as U}from\"../../../geometry/support/plane.js\";import{create as W}from\"../../../geometry/support/ray.js\";import{sv3d as B}from\"../../../geometry/support/vectorStacks.js\";import{clonePoint as N,hydratedSpatialReference as H}from\"../../../layers/graphics/hydratedFeatures.js\";import{getElevationAtPoint as V}from\"../support/ElevationProvider.js\";import{fromScreen as G}from\"../support/geometryUtils/ray.js\";import{Camera as Y}from\"../webgl-engine/lib/Camera.js\";import{Object3D as Z}from\"../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as q}from\"../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as J}from\"../webgl-engine/lib/WebGLLayer.js\";import{ManipulatorStateCustomFlags as K,ManipulatorStateFlags as Q}from\"../../interactive/interfaces.js\";import X from\"../../../geometry/Point.js\";class ${constructor(e){this.metadata=void 0,this._camera=new Y,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=new Array,this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=m(),this._worldFrame=null,this._renderLocation=O(),this._renderLocationDirty=!0,this._location=new X({x:0,y:0,z:0}),this._elevationAlignedLocation=new X,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.consumesClicks=!0,this.cursor=null,this.grabCursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=K.None,this._focused=!1,this.events=new t.EventEmitter,this._screenLocation={screenPointArray:n(),renderScreenPointArray:r(),pixelSize:0},this._screenLocationDirty=!0,this._engineResourcesAddedToStage=!1,this._attached=!1,this._location.spatialReference=e.view.spatialReference,Object.assign(this,e);const i=this.view.state?.camera;i&&this._camera.copyFrom(i)}destroy(){this._applyObjectTransform=fe,this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this._camera=null}get _stage(){return this.view?._stage}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),i((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){ee(e)&&(this._screenLocationDirty=!0),d(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=m()),te(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){N(e,this._location),this._notifyLocationChanged()}_notifyLocationChanged(){this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){N(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){const e=null!=this._elevation.override?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y,this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=H(this.location.spatialReference),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this._ensureScreenLocation(),this._screenLocation}_ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this._camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(ee(this._modelTransform)){const t=this._calculateModelTransformOffset(ge);e=p(t,t,this.renderLocation)}else e=this.renderLocation;this._camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this._camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}get attached(){return this._attached}intersectionDistance(t,i){if(!this.available)return null;const s=a(t,ie),o=this._getCollisionRadius(i),n=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(f(this.screenLocation.screenPointArray,s)<o*o)return this.screenLocation.renderScreenPointArray[2]+n;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,ae),r=o*this.screenLocation.pixelSize,a=G(this._camera,s,oe);if(null==a)return null;for(const s of e){if(0===s.length)continue;const e=v(le,s[0],i);for(let t=1;t<s.length;t++){const o=v(he,s[t],i),l=I(P(e,o,se),a);if(null!=l&&l<r*r){const t=p(B.get(),e,o);y(t,t,.5);const i=c(B.get());return this._camera.projectToRenderScreen(t,i),i[2]+n}j(e,o)}}break}case\"disc\":{const e=this.collisionType.direction,t=this.collisionType.offset??w,i=this._getWorldToScreenObjectScale(),r=this._calculateObjectTransform(i,ae),a=o*this.screenLocation.pixelSize,c=G(this._camera,s,oe);if(null==c)return null;const h=l(ne,r),d=b(_e,e,h),_=v(ue,t,r);x(_,d,ce);const u=de;if(U(ce,c,u)&&L(u,_)<a*a)return this.screenLocation.renderScreenPointArray[2]+n;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,i=this._getWorldToScreenObjectScale(),r=this._calculateObjectTransform(i,ae),a=o*this._camera.computeScreenPixelSizeAt(this.renderLocation),h=G(this._camera,s,oe);if(null==h)return null;const d=l(ne,r),_=b(_e,t,d),u=this._calculateModelTransformPosition(ue);x(u,_,ce);const g=de;if(!U(ce,h,g))break;for(const s of e){if(0===s.length)continue;const e=v(le,s[0],r);for(let t=1;t<s.length;t++){const i=v(he,s[t],r),o=C(P(e,i,se),g);if(null!=o&&o<a*a){const t=p(B.get(),e,i);y(t,t,.5);const s=c(B.get());return this._camera.projectToRenderScreen(t,s),s[2]+n}j(e,i)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){const t=this._stage;if(!t)return;const i=e.manipulator3D;null==i.engineLayerId?(this._engineLayer=new J(t,{pickable:!1,updatePolicy:q.SYNC}),i.engineLayerId=this._engineLayer.id):t?.getObject&&(this._engineLayer=t.getObject(i.engineLayerId)),i.engineLayerReferences=(i.engineLayerReferences||0)+1,this._materialIdReferences=i.materialIdReferences,null==this._materialIdReferences&&(this._materialIdReferences=new Map,i.materialIdReferences=this._materialIdReferences),this._camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),A(this._location.spatialReference,this.view.spatialReference)||(this.location=new X({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;this._removeResourcesFromStage(),i&&(t.engineLayerId=null,o(this._engineLayer)),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this._camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){E(this.location,me,e.spatialReference)&&F(e.extent,me)&&this._notifyLocationChanged()}_evaluateElevationAlignment(){if(null==this.elevationInfo)return;let e=null,t=0;const i=this.elevationInfo.offset??0;switch(this.elevationInfo.mode){case\"on-the-ground\":e=V(this.view.elevationProvider,this.location,\"ground\")??0;break;case\"relative-to-ground\":t=(V(this.view.elevationProvider,this.location,\"ground\")??0)+i;break;case\"relative-to-scene\":t=(V(this.view.elevationProvider,this.location,\"scene\")??0)+i;break;case\"absolute-height\":t=i}return t!==this._elevation.offset||e!==this._elevation.override?(this._elevation.offset=t,void(this._elevation.override=e)):void 0}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=ae;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?Q.Focused:Q.Unfocused)|(this.selected?Q.Selected:Q.Unselected),o=this._noDisplayCount>0;for(const{stateMask:n,objects:r}of i){if(o){for(const e of r)e.visible=!1;continue}const e=(n&Q.All)!==Q.None,i=(n&K.All)!==K.None,a=!e||(s&n)==(n&Q.All),c=!i||(this.state&n)==(n&K.All);if(a&&c)for(const s of r)s.visible=!0,s.transformation=t;else for(const t of r)t.visible=!1}}_ensureEngineResources(){if(null==this._engineResources){const e=this._engineLayer,t=[],i=new Set;this.renderObjects.forEach((({geometry:{material:e}})=>{i.has(e)||(t.push(e),i.add(e))}));const s=new Map;this._renderObjects.forEach((e=>{const t=new Z({castShadow:!1,geometries:[e.geometry]}),i=s.get(e.stateMask)||[];i.push(t),s.set(e.stateMask,i)}));const o=[];s.forEach(((e,t)=>o.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:o,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){const e=this._stage;if(this._engineResourcesAddedToStage||null==this._engineResources||!e)return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;s.forEach((t=>{const i=this._materialIdReferences,s=i.get(t.id)||0;0===s&&e.add(t),i.set(t.id,s+1)})),t.forEach((({objects:t})=>{i.addMany(t),e.addMany(t)})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(){const e=this._stage;if(!this._engineResourcesAddedToStage||null==this._engineResources||!e)return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;t.forEach((({objects:t})=>{i.removeMany(t),e.removeMany(t)})),s.forEach((t=>{const i=this._materialIdReferences,s=i.get(t.id);1===s?(e.remove(t),i.delete(t.id)):i.set(t.id,s-1)})),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,re);return S(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return R(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return _(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&u(t,t,this._worldFrame),u(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,null!=this._applyObjectTransform&&this._applyObjectTransform(t),t}get test(){let e=!1;if(null!=this._engineResources)for(const t of this._engineResources.objectsByState){for(const i of t.objects)if(i.visible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function ee(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function te(e,t,i){switch(e.viewingMode){case\"local\":return g(i),!0;case\"global\":{const o=T(e.renderCoordsHelper.spatialReference);return k(t,0,le,0,o.radius),D(s(le[0]),s(le[1]),i),!0}}}const ie=n(),se=z(),oe=W(),ne=h(),re=m(),ae=m(),ce=M(),le=O(),he=O(),de=O(),_e=O(),ue=O(),ge=O(),me=new X({x:0,y:0,z:0,spatialReference:null}),fe=()=>{};export{$ as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{ManipulatorStateFlags as t}from\"../../interactive/interfaces.js\";class e{constructor(e,s=t.None){this.geometry=e,this.stateMask=s}}export{e as RenderObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{colorVectorToColorAndOpacity as e}from\"../../../core/colorUtils.js\";import{i as t}from\"../../../chunks/mat4.js\";import{f as r,b as n,e as o,n as c}from\"../../../chunks/vec3.js\";import{sv3d as i,sm4d as a}from\"../../../geometry/support/vectorStacks.js\";import{hydrateGeometry as l}from\"../../../layers/graphics/hydratedFeatures.js\";import{Manipulator3D as s}from\"./Manipulator3D.js\";import{RenderObject as u}from\"./RenderObject.js\";import{computeCentroid as m}from\"../layers/graphics/graphicUtils.js\";import{CullFaceOptions as p}from\"../webgl-engine/lib/basicInterfaces.js\";import{createSphereGeometry as f}from\"../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as g}from\"../webgl-engine/lib/Material.js\";import{ColorMaterial as d}from\"../webgl-engine/materials/ColorMaterial.js\";import{ShadedColorMaterial as j}from\"../webgl-engine/materials/ShadedColorMaterial.js\";import{ManipulatorStateCustomFlags as h}from\"../../interactive/interfaces.js\";function w(t,r=g.OccludeAndTransparent,n=!0){const o=e(t),c=!(t[3]<1);return n?new j({color:o,writeDepth:c,cullFace:p.Back,renderOccluded:r,isDecoration:!0}):new d({color:o,writeDepth:c,cullFace:p.Back,renderOccluded:r,isDecoration:!0})}function b(t,r=g.OccludeAndTransparent){const n=e(t);return new d({color:n,writeDepth:!0,cullFace:p.Front,renderOccluded:r,isDecoration:!0})}const O=Object.freeze({calloutLength:40,calloutWidth:1,discRadius:27,focusMultiplier:1.1});function y(e,t,r=h.None){const n=w(t),o=[new u(f(n,1,32,32),r)];return new s({view:e,renderObjects:o})}const D=Object.freeze({autoScaleRenderObjects:!1,worldSized:!0});function F(e,c,l,s){const u=r(i.get(),e,l),m=M(u,n(i.get(),s,u),l,a.get());t(m,m);const p=o(i.get(),c,m);return Math.atan2(p[1],p[0])}function M(e,t,r,o){const a=c(i.get(),e),l=c(i.get(),t),s=n(i.get(),a,l);return o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=0,o[4]=l[0],o[5]=l[1],o[6]=l[2],o[7]=0,o[8]=s[0],o[9]=s[1],o[10]=s[2],o[11]=0,o[12]=r[0],o[13]=r[1],o[14]=r[2],o[15]=1,o}function k(e,t){const r=e.getViewForGraphic(t);return null!=r&&\"computeAttachmentOrigin\"in r?r.computeAttachmentOrigin(t,e.spatialReference):null}function v(e,t,r){const n=k(e,r);null==n?A(t,r.geometry):t.elevationAlignedLocation=n}function A(e,t){if(null==t)return;const r=\"mesh\"===t.type?t.anchor:m(t);null!=r&&(e.location=l(r))}export{F as calculateInputRotationTransform,M as calculateTranslateRotateFromBases,w as createManipulatorMaterial,b as createManipulatorOutlineMaterial,y as createSphereManipulator,k as getGraphicAttachmentOrigin,v as placeAtGraphic,O as rotateManipulatorDefaults,D as worldScaledManipulatorSettings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{d as e}from\"../../../../chunks/mat4.js\";import{a as t}from\"../../../../chunks/mat4f64.js\";import{s as r,e as s}from\"../../../../chunks/vec3.js\";import{Z as o,c as i}from\"../../../../chunks/vec3f64.js\";import{f as a,d as n}from\"../../../../chunks/vec4f64.js\";import{Object3DVisualElement as l}from\"./Object3DVisualElement.js\";import{lineStripsToParameters as m,createGeometry as p}from\"../../support/engineContent/line.js\";import{RenderOccludedFlag as h}from\"../../webgl-engine/lib/Material.js\";import{RibbonLineMaterial as d}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class u extends l{constructor(e,t){super(e),this._hasExternalMaterial=!1,this._hasExternalMaterial=null!=t,this._material=null!=t?t:new d({width:1,color:a(1,0,1,1),stippleOffColor:null,stipplePattern:null,stipplePreferContinuous:!0,isClosed:!1,falloff:0,innerColor:null,innerWidth:1,hasPolygonOffset:!1,renderOccluded:h.OccludeAndTransparent,isDecoration:!!e.isDecoration,writeDepth:!0}),this.applyProperties(e)}setGeometryFromRenderSpacePoint(e,t=1e3){this.geometry=[[[e[0]-t,e[1],e[2]],[e[0]+t,e[1],e[2]]],[[e[0],e[1]-t,e[2]],[e[0],e[1]+t,e[2]]],[[e[0],e[1],e[2]-t],[e[0],e[1],e[2]+t]]]}setGeometryFromExtent(e){const t=this.view.spatialReference,s=i(),o=i(),a=100,n=[];r(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[2],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[2],e[3],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[0],e[3],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),this.geometry=[n]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,o=e.basis2,a=.5,n=i(),l=i(),m=i(),p=i();n[0]=r[0]-s[0]*a-o[0]*a,n[1]=r[1]-s[1]*a-o[1]*a,n[2]=r[2]-s[2]*a-o[2]*a,l[0]=r[0]-s[0]*a+o[0]*a,l[1]=r[1]-s[1]*a+o[1]*a,l[2]=r[2]-s[2]*a+o[2]*a,m[0]=r[0]+s[0]*a+o[0]*a,m[1]=r[1]+s[1]*a+o[1]*a,m[2]=r[2]+s[2]*a+o[2]*a,p[0]=r[0]+s[0]*a-o[0]*a,p[1]=r[1]+s[1]*a-o[1]*a,p[2]=r[2]+s[2]*a-o[2]*a,t.push([n[0],n[1],n[2]]),t.push([l[0],l[1],l[2]]),t.push([m[0],m[1],m[2]]),t.push([p[0],p[1],p[2]]),t.push([n[0],n[1],n[2]]),this.geometry=[t]}setGeometryFromSegment(t){const r=t.endRenderSpace;this.transform=e(f,r);const{points:s}=t.createRenderGeometry(r,this.view.renderCoordsHelper);this.geometry=[s]}setGeometryFromSegments(t,r=o){this.transform=e(f,r),this.geometry=t.map((e=>e.createRenderGeometry(r,this.view.renderCoordsHelper).points))}getTransformedGeometry(){return null==this._geometry?null:this._geometry.map((e=>e.map((e=>s(i(),e,this.transform)))))}get renderOccluded(){return this._material.parameters.renderOccluded}set renderOccluded(e){this._material.setParameters({renderOccluded:e})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._material.parameters.width}set width(e){this._material.setParameters({width:e})}get color(){return this._material.parameters.color}set color(e){const t=1===e[3];this._material.setParameters({color:n(e),writeDepth:t})}get innerWidth(){return this._material.parameters.innerWidth}set innerWidth(e){this._material.setParameters({innerWidth:e})}get innerColor(){return this._material.parameters.innerColor}set innerColor(e){this._material.setParameters({innerColor:null!=e?n(e):null})}get stipplePattern(){return this._material.parameters.stipplePattern}set stipplePattern(e){null!=this._material&&this._material.setParameters({stipplePattern:e})}get stippleOffColor(){return this._material.parameters.stippleOffColor}set stippleOffColor(e){this._material.setParameters({stippleOffColor:null!=e?n(e):null})}get stipplePreferContinuous(){return this._material.parameters.stipplePreferContinuous}set stipplePreferContinuous(e){this._material.setParameters({stipplePreferContinuous:e})}get falloff(){return this._material.parameters.falloff}set falloff(e){this._material.setParameters({falloff:e})}get polygonOffset(){return this._material.parameters.hasPolygonOffset}set polygonOffset(e){this._material.setParameters({hasPolygonOffset:e})}createExternalResources(){}destroyExternalResources(){}createGeometries(e){for(const t of m(this.geometry)){const r=p(this._material,t);e.addGeometry(r)}}forEachExternalMaterial(e){this._hasExternalMaterial||e(this._material)}}const f=t();export{u as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{h as e}from\"../../../../chunks/mat4.js\";import{a as s}from\"../../../../chunks/mat4f64.js\";import{VisualElement as r}from\"./VisualElement.js\";import{Object3D as t}from\"../../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as i}from\"../../webgl-engine/lib/WebGLLayer.js\";class a extends r{constructor(e){super(e),this._resources=null,this._transform=s()}get object(){return null!=this._resources?this._resources.object:null}get transform(){return this._transform}set transform(s){e(this._transform,s),null!=this._resources&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(null==this._resources)return;const e=this._resources.object,s=this.view._stage;s.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),e.visible=this.visible,s.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new i(e,{pickable:!1,updatePolicy:o.SYNC}),r=new t({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),r.visible=this.visible,this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;null!=this._resources&&e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this.forEachExternalMaterial((s=>{e.remove(s)})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){null!=this._resources&&(this._resources.object.visible=e)}}export{a as Object3DVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{watch as e}from\"../../../../core/reactiveUtils.js\";class t{get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e}constructor(t){this._isDecoration=!1,this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t.view,this._handle=e((()=>t.view.ready),(e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources())}))}applyProperties(e){let t=!1;for(const s in e)s in this?\"attached\"===s?t=e[s]:this[s]=e[s]:console.error(\"Cannot set unknown property\",s);this.attached=t}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(e){e!==this._attached&&this.view._stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources(),this.onAttachedChange(e))}onAttachedChange(e){}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.updateVisibility(this.visible)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}export{t as VisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{addCameraPosition as e}from\"./util/View.glsl.js\";import{FloatPassUniform as i}from\"../shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../shaderModules/interfaces.js\";function o(o,c){if(!c.screenSizeEnabled)return;const n=o.vertex;e(n,c),n.uniforms.add(new i(\"perScreenPixelRatio\",((e,i)=>i.camera.perScreenPixelRatio)),new i(\"screenSizeScale\",(e=>e.screenSizeScale))),n.code.add(r`float computeRenderPixelSizeAt( vec3 pWorld ){\nvec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\nfloat viewDirectionDistance = abs(dot(viewForward, pWorld - cameraPosition));\nreturn viewDirectionDistance * perScreenPixelRatio;\n}\nvec3 screenSizeScaling(vec3 position, vec3 anchor){\nreturn position * screenSizeScale * computeRenderPixelSizeAt(anchor) + anchor;\n}`)}export{o as ScreenSizeScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{blendingDefault as n,oitBlending as a,oitDepthWrite as p,OITPolygonOffset as l}from\"../lib/OrderIndependentTransparency.js\";import{Program as u}from\"../lib/Program.js\";import{TransparencyPassType as c}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as d}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as h}from\"../materials/DefaultTechniqueConfiguration.js\";import{S as m}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";import{CompareFunction as f}from\"../../../webgl/enums.js\";import{makePipelineState as b,cullingParams as y,defaultDepthWriteParams as S,defaultColorWriteParams as g}from\"../../../webgl/renderState.js\";class T extends o{initializeProgram(e){return new u(e.rctx,T.shader.get().build(this.configuration),v)}_setPipelineState(e){const r=this.configuration,o=e===c.NONE,i=e===c.FrontFace;return b({blending:r.output!==t.Color&&r.output!==t.Alpha||!r.transparent?null:o?n:a(e),culling:y(r.cullFace),depthTest:{func:i?f.LESS:r.shadingEnabled?f.LEQUAL:f.LESS},depthWrite:o?r.writeDepth?S:null:p(e),colorWrite:g,polygonOffset:o||i?null:l})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}T.shader=new r(m,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class j extends h{constructor(){super(...arguments),this.output=t.Color,this.cullFace=s.None,this.transparencyPassType=c.NONE,this.hasSlicePlane=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.multipassEnabled=!1,this.cullAboveGround=!1}}e([i({count:t.COUNT})],j.prototype,\"output\",void 0),e([i({count:s.COUNT})],j.prototype,\"cullFace\",void 0),e([i({count:c.COUNT})],j.prototype,\"transparencyPassType\",void 0),e([i()],j.prototype,\"hasSlicePlane\",void 0),e([i()],j.prototype,\"transparent\",void 0),e([i()],j.prototype,\"writeDepth\",void 0),e([i()],j.prototype,\"screenSizeEnabled\",void 0),e([i()],j.prototype,\"shadingEnabled\",void 0),e([i()],j.prototype,\"multipassEnabled\",void 0),e([i()],j.prototype,\"cullAboveGround\",void 0),e([i({constValue:!1})],j.prototype,\"occlusionPass\",void 0);const v=new Map([[d.POSITION,0],[d.NORMAL,1],[d.OFFSET,2]]);export{T as ShadedColorMaterialTechnique,j as ShadedColorMaterialTechniqueConfiguration,v as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{n as e,s as t,i as r,g as i}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{f as a}from\"../../../../chunks/vec4f64.js\";import{center as n,scale as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as c}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as l}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as u}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as h}from\"../lib/basicInterfaces.js\";import p from\"../lib/GLMaterial.js\";import{Material as f,MaterialParameters as m}from\"../lib/Material.js\";import{RenderSlot as d}from\"../lib/RenderSlot.js\";import{assert as b}from\"../lib/Util.js\";import{VertexAttribute as S}from\"../lib/VertexAttribute.js\";import{writeDefaultAttributes as E,writePosition as g}from\"./internal/bufferWriterUtils.js\";import{intersectTriangleGeometry as T}from\"./internal/MaterialUtil.js\";import{ShadedColorMaterialTechniqueConfiguration as A,vertexAttributeLocations as _,ShadedColorMaterialTechnique as F}from\"../shaders/ShadedColorMaterialTechnique.js\";class j extends f{constructor(e){super(e,new v),this.supportsEdges=!0,this._configuration=new A,this._vertexAttributeLocations=_}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._isTransparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.screenSizeEnabled=this.parameters.screenSizeEnabled,this._configuration.shadingEnabled=this.parameters.shadingEnabled,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}intersect(e,s,a,c,l,u){if(this.parameters.screenSizeEnabled){const s=e.attributes.get(S.OFFSET),h={applyToVertex:(e,n,o,c)=>{const l=t(z,s.data[3*c],s.data[3*c+1],s.data[3*c+2]),u=t(L,e,n,o);return r(l,l,this.parameters.screenSizeScale*a.camera.computeScreenPixelSizeAt(l)),i(u,u,l),[u[0],u[1],u[2]]},applyToAabb:e=>{const t=n(e,z);return o(e,this.parameters.screenSizeScale*a.camera.computeScreenPixelSizeAt(t))}};T(e,a,c,l,h,u)}else T(e,a,c,l,void 0,u)}produces(e,t){if(t===u.Highlight)return e===d.OPAQUE_MATERIAL;if(t===u.Color||t===u.Alpha||t===u.ObjectAndLayerIdColor){let t=d.OPAQUE_MATERIAL;return this._isTransparent&&(t=this.parameters.writeDepth?d.TRANSPARENT_MATERIAL:d.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),e===t||e===d.DRAPED_MATERIAL}return!1}createGLMaterial(e){return new O(e)}createBufferWriter(){return new w(this.parameters.screenSizeEnabled)}get _isTransparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}}class O extends p{beginSlot(e){return this.ensureTechnique(F,e)}}class v extends m{constructor(){super(...arguments),this.color=a(1,1,1,1),this.shadingTint=a(0,0,0,.25),this.shadingDirection=e(s(),[.5,-.5,-.5]),this.screenSizeScale=14,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=h.None,this.screenSizeEnabled=!1,this.shadingEnabled=!0}}class w{constructor(e){this.screenSizeEnabled=e;const t=l().vec3f(S.POSITION).vec3f(S.NORMAL);this.screenSizeEnabled&&t.vec3f(S.OFFSET),this.vertexBufferLayout=t}elementCount(e){return e.attributes.get(S.POSITION).indices.length}write(e,t,r,i,s){if(E(r,this.vertexBufferLayout,e,t,i,s),this.screenSizeEnabled){if(!r.attributes.has(S.OFFSET))throw new Error(`${S.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);{const e=r.attributes.get(S.OFFSET);b(3===e.size);const a=i.getField(S.OFFSET,c);if(!a)throw new Error(\"unable to acquire view for \"+S.OFFSET);g(e,t,a,s)}}}}const z=s(),L=s();export{j as ShadedColorMaterial,v as ShadedColorMaterialParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t}from\"../../core/maybe.js\";import{onAbort as i}from\"../../core/promiseUtils.js\";import{whenOnce as e,watch as n,syncAndInitial as r}from\"../../core/reactiveUtils.js\";function l(n,r){n.interactive=!0;const{tool:l,view:a}=n;a.activeTool=l;let c=i(r,(()=>{a.activeTool===l&&(a.activeTool=null)}));return o((async o=>{await e((()=>null==l||!l.active),o),c=t(c)}),r)}function a(o,t){return n((()=>o.interactive),(()=>c(o,t)),r)}function c(o,t){o.interactive?s(o,t):v(o)}function s(o,t){v(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function v(o){const{view:t,tool:i}=o;null!=i&&(t.tools.remove(i),o.tool=null)}export{l as activateAnalysisViewTool,a as connectAnalysisViewToTool,v as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Collection.js\";var a;!function(t){t[t.WhenToolEditable=0]=\"WhenToolEditable\",t[t.WhenToolNotEditable=1]=\"WhenToolNotEditable\",t[t.Always=2]=\"Always\"}(a||(a={}));class i{constructor(){this._isToolEditable=!0,this._manipulators=new t,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,i=a.WhenToolEditable){this.addMany([t],i)}addMany(t,i=a.WhenToolEditable){for(const a of t){const t={manipulator:a,visibilityPredicate:i,attached:!1};this._manipulators.add(t),this._attached&&this._updateManipulatorAttachment(t)}}remove(t){for(let a=0;a<this._manipulators.length;a++)if(this._manipulators.at(a).manipulator===t){const t=this._manipulators.splice(a,1)[0];this._detachManipulator(t);break}}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t)})),this._attached=!0}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._attached=!1}destroy(){this.detach(),this._manipulators.forEach((({manipulator:t})=>t.destroy())),this._manipulators.destroy(),this._resourceContexts=null}on(t,a){return this._manipulators.on(t,(t=>{a(t)}))}forEach(t){for(const a of this._manipulators.items)t(a)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((a=>t.push(a.manipulator))),t}intersect(t,a){let i=null,e=Number.MAX_VALUE;return this._manipulators.forEach((({manipulator:o,attached:s})=>{if(!s||!o.interactive)return;const r=o.intersectionDistance(t,a);null!=r&&r<e&&(e=r,i=o)})),i}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const a=t.manipulator;a.grabbing=!1,a.dragging=!1,a.hovering=!1,a.selected=!1,a.detach&&a.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return t.visibilityPredicate===a.Always||(this._isToolEditable?t.visibilityPredicate===a.WhenToolEditable:t.visibilityPredicate===a.WhenToolNotEditable)}}export{i as ManipulatorCollection,a as ManipulatorVisibilityPredicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import i from\"../../core/Logger.js\";import{createResolver as o}from\"../../core/promiseUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{EditableFlag as r}from\"./interfaces.js\";import{ManipulatorCollection as n}from\"./ManipulatorCollection.js\";let l=class extends e{constructor(t){super(t),this.manipulators=new n,this.automaticManipulatorSelection=!0,this.hasGrabbedManipulators=!1,this.hasHoveredManipulators=!1,this.firstGrabbedManipulator=null,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[r.MANAGER,!0],[r.USER,!0]]),this._creationFinishedResolver=o()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._get(\"visible\")!==t&&(this._set(\"visible\",t),this._syncVisible())}get editable(){return this.getEditableFlag(r.USER)}set editable(t){this.setEditableFlag(r.USER,t)}get updating(){return!1}get cursor(){return null}get hasFocusedManipulators(){return this.hasGrabbedManipulators||this.hasHoveredManipulators}destroy(){this.manipulators.destroy(),this._set(\"view\",null)}onAdd(){this._syncVisible()}activate(){null!=this.view?(this.view.focus(),this.onActivate()):i.getLogger(this).error(\"Can't activate tool if view is not defined.\")}deactivate(){this.onDeactivate()}handleInputEvent(t){this.onInputEvent(t)}handleInputEventAfter(t){this.onInputEventAfter(t)}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),t===r.USER&&this.notifyChange(\"editable\"),this.onEditableChange(),this.onManipulatorSelectionChanged()}getEditableFlag(t){return this._editableFlags.get(t)??!1}whenCreated(){return this._creationFinishedResolver.promise}onManipulatorSelectionChanged(){}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(r.USER)&&this.getEditableFlag(r.MANAGER)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set(\"created\",!0)}_syncVisible(){if(this.initialized)if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};t([a({constructOnly:!0})],l.prototype,\"view\",void 0),t([a({readOnly:!0})],l.prototype,\"active\",null),t([a({value:!0})],l.prototype,\"visible\",null),t([a({value:!0})],l.prototype,\"editable\",null),t([a({readOnly:!0})],l.prototype,\"manipulators\",void 0),t([a({readOnly:!0})],l.prototype,\"updating\",null),t([a()],l.prototype,\"cursor\",null),t([a({readOnly:!0})],l.prototype,\"automaticManipulatorSelection\",void 0),t([a()],l.prototype,\"hasFocusedManipulators\",null),t([a()],l.prototype,\"hasGrabbedManipulators\",void 0),t([a()],l.prototype,\"hasHoveredManipulators\",void 0),t([a()],l.prototype,\"firstGrabbedManipulator\",void 0),t([a({readOnly:!0})],l.prototype,\"created\",void 0),t([a({readOnly:!0})],l.prototype,\"removeIncompleteOnCancel\",void 0),l=t([s(\"esri.views.interactive.InteractiveToolBase\")],l);export{l as InteractiveToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let a=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};s([r({constructOnly:!0})],a.prototype,\"analysis\",void 0),s([r()],a.prototype,\"analysisViewData\",void 0),a=s([o(\"esri.views.interactive.AnalysisToolBase\")],a);export{a as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e}from\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{clone as t}from\"../../core/lang.js\";import{clamp as n}from\"../../core/mathUtils.js\";import{createScreenPoint as r}from\"../../core/screenUtils.js\";import{g as a}from\"../../chunks/vec3f64.js\";import{project as o}from\"../../geometry/projection.js\";import{hydratedSpatialReference as l,clonePoint as s}from\"../../layers/graphics/hydratedFeatures.js\";import{MeshTransformUpdateAction as c}from\"../../layers/graphics/sources/interfaces.js\";import{getZForElevationMode as i}from\"../../support/elevationInfoUtils.js\";import{ViewingMode as u}from\"../ViewingMode.js\";import{move as p}from\"../draw/support/drawUtils.js\";import m from\"../../geometry/Point.js\";function f(e,t){let n=null,r=null;return a=>{if(\"cancel\"===a.action)return void(null!=r&&(r.execute({action:\"cancel\"}),n=null,r=null));const o={action:a.action,screenStart:a.start,screenEnd:a.screenPoint};\"start\"===a.action&&null==n&&(n=new U,r=new U,t(e,n,r,a.pointerType,o)),null!=n&&n.execute(o),\"end\"===a.action&&null!=n&&(n=null,r=null)}}function d(e,t){return e.events.on(\"drag\",f(e,t))}function y(e,t){const n=[e.x,e.y,e.z??0],r=t,a=[Math.cos(r),Math.sin(r)],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(0===o)return null;a[0]/=o,a[1]/=o;const l=e=>{const t=(e.x-n[0])*a[0]+(e.y-n[1])*a[1];e.x=n[0]+t*a[0],e.y=n[1]+t*a[1]};return e=>(l(e.mapStart),l(e.mapEnd),{...e,axis:a})}function x(e,t){let n=null;return r=>{if(\"start\"===r.action&&(n=h(e,r.mapStart.spatialReference,t)),null==n)return null;const a=r.mapEnd.x-r.mapStart.x,o=r.mapEnd.y-r.mapStart.y,l=r.mapEnd.z-r.mapStart.z;return n.move(a,o,l,r.action),{...r,translationX:a,translationY:o,translationZ:l}}}function g(e,t){return null==e?null:e.spatialReference.equals(t)?e.clone():o(e,t)}function h(e,t,n){const r=e.geometry,a=l(t);if(null==r)return null;if(\"mesh\"===r.type)return E(e,r,a,n);const s=g(r,a),c=r.spatialReference;return null==s?null:{move:(t,n,r)=>{const a=p(s.clone(),t,n,r);a.spatialReference.equals(c)?e.geometry=a:e.geometry=o(a,c)}}}function E(e,t,n,r){if(t.vertexSpace.isRelative)return S(e,t,t.vertexSpace,n);if(!t.spatialReference.equals(n))return null;let a=0,o=0,l=0;return{move:(n,s,c)=>{const i=n-a,p=s-o,f=c-l;if(i||p||f){const d=new m(t.origin.x+i,t.origin.y+p,(t.origin.z??0)+f,t.origin.spatialReference);t.centerAt(d,{geographic:t.vertexSpace.isRelative?void 0:r===u.Global}),e.notifyGeometryChanged(),a=n,o=s,l=c}}}}function S(e,t,n,r){const a=g(n.getOriginPoint(t.spatialReference),r),l=t.spatialReference;return null==a?null:{move:(t,r,s,i)=>{const u=p(a.clone(),t,r,s);if(u.spatialReference.equals(l))n.setOriginFromPoint(u);else{const e=o(u,l);null!=e&&n.setOriginFromPoint(e)}if(n.isGeoreferenced)e.notifyGeometryChanged();else{const t=\"end\"===i;e.notifyMeshTransformChanged(t?{action:c.UpdateFastLocalOrigin}:{})}}}}function v(e,t=null,n){let r=null;const a=null==t||e.spatialReference?.equals(t)?e=>e:e=>null!=e?o(e,t):e,l={exclude:[],...n};return t=>{if(\"start\"===t.action&&(r=a(e.toMap(t.screenStart,l))),null==r)return null;const n=a(e.toMap(t.screenEnd,l));return null!=n?{...t,mapStart:r,mapEnd:n}:null}}function j(t,n){const r=t.map((e=>x(e,n))).filter(e);return e=>{const t=e.mapEnd.x-e.mapStart.x,n=e.mapEnd.y-e.mapStart.y,a=e.mapEnd.z-e.mapStart.z;return r.forEach((t=>t(e))),{...e,translationX:t,translationY:n,translationZ:a}}}function R(e,n){const r=new Map;for(const a of n)r.set(a,t(e[a]));return t=>(r.forEach(((t,n)=>{e[n]=t})),t)}function z(e){return null!=e.geometry&&\"mesh\"===e.geometry.type?M(e,e.geometry):R(e,[\"geometry\"])}function M(e,t){const{vertexSpace:n}=t;if(n.isGeoreferenced){const n=t.vertexAttributes.clonePositional();return r=>(t.vertexAttributes=n,e.notifyGeometryChanged(),r)}const r=a(n.origin),o=t.transform?.clone();return n=>(t.transform=o,t.vertexSpace.origin=r,e.notifyMeshTransformChanged(),n)}function w(e){const t=e.map((e=>z(e))).filter((e=>null!=e));return e=>(t.forEach((t=>t(e))),e)}function P(){let e=0,t=0,n=0;return r=>{\"start\"===r.action&&(e=r.mapStart.x,t=r.mapStart.y,n=r.mapStart.z);const a=r.mapEnd.x-e,o=r.mapEnd.y-t,l=r.mapEnd.z-n;return e=r.mapEnd.x,t=r.mapEnd.y,n=r.mapEnd.z,{...r,mapDeltaX:a,mapDeltaY:o,mapDeltaZ:l,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function q(){let e=0,t=0;return n=>{\"start\"===n.action&&(e=n.screenStart.x,t=n.screenStart.y);const r=n.screenEnd.x-e,a=n.screenEnd.y-t;return e=n.screenEnd.x,t=n.screenEnd.y,{...n,screenDeltaX:r,screenDeltaY:a}}}function D(e,t){let a=null,o=0,l=0;return s=>{if(\"start\"===s.action&&(a=e.toScreen?.(t),null!=a&&(a.x<0||a.x>e.width||a.y<0||a.y>e.height?a=null:(o=s.screenStart.x-a.x,l=s.screenStart.y-a.y))),null==a)return null;const c=n(s.screenEnd.x-o,0,e.width),i=n(s.screenEnd.y-l,0,e.height),u=r(c,i);return s.screenStart=a,s.screenEnd=u,s}}const G=()=>{};class U{constructor(){this.execute=G}next(e,t=new U){return null!=e&&(this.execute=n=>{const r=e(n);null!=r&&t.execute(r)}),t}}function C(e,t,n=[]){if(\"2d\"===e.type)return e=>e;let r=null;return a=>{\"start\"===a.action&&(r=e.toMap(a.screenStart,{exclude:n}),null!=r&&(r.z=i(r,e,t)));const o=e.toMap(a.screenEnd,{exclude:n});null!=o&&(o.z=i(o,e,t));const l=null!=r&&null!=o?{sceneStart:r,sceneEnd:o}:null;return{...a,scenePoints:l}}}function F(e,t,n){const r=t.elevationProvider.getElevation(e.x,e.y,e.z??0,e.spatialReference,\"scene\")??0,a=s(e);return a.z=r,a.hasZ=!0,a.z=i(a,t,n),a}function O(e,t){if(\"2d\"===e.type)return e=>e;let n=null;return r=>{\"start\"===r.action&&(n=F(r.mapStart,e,t));const a=F(r.mapEnd,e,t),o=null!=n&&null!=a?{sceneStart:n,sceneEnd:a}:null;return{...r,scenePoints:o}}}export{U as EventPipeline,P as addMapDelta,q as addScreenDelta,y as constrainToMapAxis,f as createDragEventPipelineCallback,d as createManipulatorDragEventPipeline,D as dragAtLocation,x as dragGraphic,j as dragGraphicMany,z as resetGraphic,w as resetGraphicMany,R as resetProperties,C as sceneSnappingAtLocation,O as sceneSnappingAtProjectedLocation,v as screenToMap};\n"],"names":["p","e","v","b","multipassEnabled","output","r","Color","Alpha","include","a","o","i","vertex","h","fragment","C","n","s","uniforms","add","g","color","attributes","u","POSITION","varyings","screenSizeEnabled","OFFSET","shadingEnabled","t","NORMAL","code","m","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","d","_templateObject4","c","shadingDirection","w","shadingTint","_templateObject5","_templateObject6","_templateObject7","ObjectAndLayerIdColor","_templateObject8","float","l","_templateObject9","_templateObject10","transparencyPassType","f","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","y","Z","mode","hasZ","_t$offset","_t$unit","geometry","offset","unit","layer","elevationInfo","arguments","length","undefined","x","z","spatialReference","absoluteZ","_u$elevationProvider$","_u$elevationProvider$2","elevationProvider","getElevation","elevation","_r$elevationProvider$","_r$elevationProvider$2","_r$elevationProvider$3","concat","E","featureExpressionInfo","expression","warn","constructor","super","this","parent","_userInteractive","_interactiveViewModelCount","interactive","updating","visible","suspended","_overrideIfSome","forceInteractiveForViewModel","readOnly","prototype","constructOnly","type","Boolean","_e","warnOnce","id","wkid","$","_this$view$state","metadata","_camera","Y","_elevation","override","collisionType","collisionPriority","_renderObjects","Array","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","O","_renderLocationDirty","_location","X","_elevationAlignedLocation","_elevationAlignedLocationDirty","selectable","grabbable","consumesClicks","cursor","grabCursor","_grabbing","dragging","_hovering","_selected","_state","K","None","_focused","events","EventEmitter","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_engineResourcesAddedToStage","_attached","view","assign","state","camera","copyFrom","destroy","_applyObjectTransform","fe","_removeResourcesFromStage","_engineResources","_stage","_this$view","_elevationInfo","_updateEngineObject","renderObjects","slice","available","disableDisplay","radius","worldSized","modelTransform","ee","renderLocation","renderCoordsHelper","toRenderCoords","elevationAlignedLocation","viewingMode","T","k","le","D","te","fromRenderCoords","location","N","_notifyLocationChanged","emit","_evaluateElevationAlignment","_updateElevationAlignedLocation","H","grabbableForEvent","grabbing","_setFocused","hovering","selected","action","updateStateEnabled","focused","screenLocation","_ensureScreenLocation","computeScreenPixelSizeAt","_calculateModelTransformOffset","ge","projectToRenderScreen","renderToScreen","applyObjectTransform","attached","intersectionDistance","ie","_getCollisionRadius","paths","_getWorldToScreenObjectScale","_calculateObjectTransform","ae","G","oe","he","I","P","se","B","get","j","_this$collisionType$o","direction","ne","_","ue","ce","de","U","L","_calculateModelTransformPosition","attach","manipulator3D","engineLayerId","_engineLayer","J","pickable","updatePolicy","q","SYNC","getObject","engineLayerReferences","_materialIdReferences","materialIdReferences","Map","A","detach","onViewChange","onElevationChange","me","F","extent","_this$elevationInfo$o","_V","_V2","_V3","V","_getFocusedSize","objectsByState","_ensureEngineResources","Q","Focused","Unfocused","Selected","Unselected","stateMask","objects","All","transformation","Set","forEach","_ref","material","has","push","castShadow","geometries","set","materials","_addResourcesToStage","_ref2","addMany","_ref3","removeMany","remove","delete","re","S","R","test","areAnyResourcesVisible","W","M","OccludeAndTransparent","writeDepth","cullFace","Back","renderOccluded","isDecoration","calloutLength","calloutWidth","discRadius","Math","atan2","_hasExternalMaterial","_material","width","stippleOffColor","stipplePattern","stipplePreferContinuous","isClosed","falloff","innerColor","innerWidth","hasPolygonOffset","applyProperties","setGeometryFromRenderSpacePoint","setGeometryFromExtent","setGeometryFromFrustum","lines","origin","endpoint","setGeometryFromBoundedPlane","basis1","basis2","setGeometryFromSegment","endRenderSpace","transform","points","createRenderGeometry","setGeometryFromSegments","map","getTransformedGeometry","_geometry","parameters","setParameters","recreateGeometry","polygonOffset","createExternalResources","destroyExternalResources","createGeometries","addGeometry","forEachExternalMaterial","_resources","_transform","object","recreate","createResources","removeAllGeometries","destroyResources","dispose","updateVisibility","_isDecoration","_resourcesCreated","_visible","_handle","ready","_createResources","_destroyResources","console","error","onAttachedChange","perScreenPixelRatio","screenSizeScale","initializeProgram","rctx","shader","configuration","_setPipelineState","NONE","FrontFace","blending","transparent","culling","depthTest","func","LESS","LEQUAL","depthWrite","colorWrite","initializePipeline","hasSlicePlane","cullAboveGround","count","COUNT","constValue","supportsEdges","_configuration","_vertexAttributeLocations","getConfiguration","_isTransparent","multipassTerrain","intersect","applyToVertex","data","applyToAabb","produces","Highlight","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","DRAPED_MATERIAL","createGLMaterial","createBufferWriter","forceTransparentMode","beginSlot","ensureTechnique","vec3f","vertexBufferLayout","elementCount","indices","write","Error","size","getField","tool","activeTool","async","active","analysis","analysisViewData","tools","WhenToolEditable","WhenToolNotEditable","Always","_isToolEditable","_manipulators","_resourceContexts","isToolEditable","manipulator","visibilityPredicate","_updateManipulatorAttachment","at","splice","_detachManipulator","removeAll","on","items","some","toArray","Number","MAX_VALUE","_isManipulatorItemVisible","_attachManipulator","manipulators","automaticManipulatorSelection","hasGrabbedManipulators","hasHoveredManipulators","firstGrabbedManipulator","created","removeIncompleteOnCancel","_editableFlags","MANAGER","USER","_creationFinishedResolver","_get","_set","_syncVisible","editable","getEditableFlag","setEditableFlag","hasFocusedManipulators","onAdd","activate","focus","onActivate","getLogger","deactivate","onDeactivate","handleInputEvent","onInputEvent","handleInputEventAfter","onInputEventAfter","internallyEditable","notifyChange","onEditableChange","onManipulatorSelectionChanged","_this$_editableFlags$","whenCreated","promise","onShow","onHide","finishToolCreation","resolve","initialized","_show","_hide","initialize","addHandles","clear","resetCreated","execute","screenStart","start","screenEnd","screenPoint","pointerType","next"],"sourceRoot":""}