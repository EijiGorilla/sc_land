"use strict";(self.webpackChunksc_land=self.webpackChunksc_land||[]).push([[5569,9762,7009],{35888:(e,t,n)=>{n.d(t,{d:()=>s});var r=n(16889),o=n(39406);function s(e,t,n){const s=Array.isArray(e),u=s?e.length/t:e.byteLength/(4*t),f=s?e:new Uint32Array(e,0,u*t),d=n?.minReduction??0,g=n?.originalIndices||null,h=g?g.length:0,p=n?.componentOffsets||null;let T=0;if(p)for(let r=0;r<p.length-1;r++){const e=p[r+1]-p[r];e>T&&(T=e)}else T=u;const N=Math.floor(1.1*T)+1;(null==l||l.length<2*N)&&(l=new Uint32Array((0,r.Sf)(2*N)));for(let r=0;r<2*N;r++)l[r]=0;let I=0;const m=!!p&&!!g,A=m?h:u;let w=(0,o.$z)(u);const O=new Uint32Array(h),S=1.96;let y=0!==d?Math.ceil(4*S*S/(d*d)*d*(1-d)):A,E=1,v=p?p[1]:A;for(let r=0;r<A;r++){if(r===y){const e=1-I/r;if(e+S*Math.sqrt(e*(1-e)/r)<d)return null;y*=2}if(r===v){for(let e=0;e<2*N;e++)l[e]=0;if(g)for(let e=p[E-1];e<p[E];e++)O[e]=w[g[e]];v=p[++E]}const e=m?g[r]:r,n=e*t,o=c(f,n,t);let s=o%N,a=I;for(;0!==l[2*s+1];){if(l[2*s]===o){const e=l[2*s+1]-1;if(i(f,n,e*t,t)){a=w[e];break}}s++,s>=N&&(s-=N)}a===I&&(l[2*s]=o,l[2*s+1]=e+1,I++),w[e]=a}if(0!==d&&1-I/u<d)return null;if(m){for(let e=p[E-1];e<O.length;e++)O[e]=w[g[e]];w=(0,o.mi)(O)}const L=s?new Array(I):new Uint32Array(I*t);I=0;for(let r=0;r<A;r++)w[r]===I&&(a(f,(m?g[r]:r)*t,L,I*t,t),I++);if(g&&!m){const e=new Uint32Array(h);for(let t=0;t<e.length;t++)e[t]=w[g[t]];w=(0,o.mi)(e)}return{buffer:Array.isArray(L)?L:L.buffer,indices:w,uniqueCount:I}}function i(e,t,n,r){for(let o=0;o<r;o++)if(e[t+o]!==e[n+o])return!1;return!0}function a(e,t,n,r,o){for(let s=0;s<o;s++)n[r+s]=e[t+s]}function c(e,t,n){let r=0;for(let o=0;o<n;o++)r=e[t+o]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let l=null},22526:(e,t,n)=>{n.d(t,{H:()=>o,a:()=>s});var r=n(55158);function o(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:new r.Gw(e.layout)}}function s(e){return new r.pV(e.layout).createView(e.buffer)}},95569:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(22526),o=n(67009),s=n(32666),i=n(79762);class a{async extract(e){const t=c(e),n=(0,i.Kl)(t),r=[t.data.buffer];return{result:l(n,r),transferList:r}}async extractComponentsEdgeLocations(e){const t=c(e),n=(0,i.kY)(t.data,t.skipDeduplicate,t.indices,t.indicesLength),o=(0,s.n)(n,f),a=[];return{result:(0,r.H)(o.regular.instancesData,a),transferList:a}}async extractEdgeLocations(e){const t=c(e),n=(0,i.kY)(t.data,t.skipDeduplicate,t.indices,t.indicesLength),o=(0,s.n)(n,u),a=[];return{result:(0,r.H)(o.regular.instancesData,a),transferList:a}}}function c(e){return{data:o.EdgeInputBufferLayout.createView(e.dataBuffer),indices:"Uint32Array"===e.indicesType?new Uint32Array(e.indices):"Uint16Array"===e.indicesType?new Uint16Array(e.indices):e.indices,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function l(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:(0,r.H)(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:(0,r.H)(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}}const u=new class{allocate(e){return i.Yr.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1)}},f=new class{allocate(e){return i.extractComponentsEdgeLocationsLayout.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex)}}},67009:(e,t,n)=>{n.d(t,{EdgeInputBufferLayout:()=>i,Hr:()=>u,dG:()=>l,dx:()=>c,k3:()=>f,rD:()=>a});var r=n(50256),o=n(55158),s=n(4760);const i=(0,o.U$)().vec3f(s.T.POSITION).u16(s.T.COMPONENTINDEX).freeze(),a=(0,o.U$)().vec2u8(s.T.SIDENESS).freeze(),c=(0,r.K)(a),l=(0,o.U$)().vec3f(s.T.POSITION0).vec3f(s.T.POSITION1).vec2i16(s.T.NORMALCOMPRESSED).u16(s.T.COMPONENTINDEX).u8(s.T.VARIANTOFFSET,{glNormalized:!0}).u8(s.T.VARIANTSTROKE).u8(s.T.VARIANTEXTENSION,{glNormalized:!0}).freeze(),u=(0,o.U$)().vec3f(s.T.POSITION0).vec3f(s.T.POSITION1).vec2i16(s.T.NORMALCOMPRESSED).vec2i16(s.T.NORMAL2COMPRESSED).u16(s.T.COMPONENTINDEX).u8(s.T.VARIANTOFFSET,{glNormalized:!0}).u8(s.T.VARIANTSTROKE).u8(s.T.VARIANTEXTENSION,{glNormalized:!0}).freeze(),f=new Map([[s.T.POSITION0,0],[s.T.POSITION1,1],[s.T.COMPONENTINDEX,2],[s.T.VARIANTOFFSET,3],[s.T.VARIANTSTROKE,4],[s.T.VARIANTEXTENSION,5],[s.T.NORMALCOMPRESSED,6],[s.T.NORMAL2COMPRESSED,7],[s.T.SIDENESS,8]])},41371:(e,t,n)=>{n.d(t,{D:()=>N,q:()=>I});var r=n(84936),o=n(32035),s=n(12400),i=n(50256),a=n(52920),c=n(67009);class l{updateSettings(e){this.settings=e,this._edgeHashFunction=e.reducedPrecision?h:g}write(e,t,n){A.seed=this._edgeHashFunction(n);const r=A.getIntRange(0,255),o=A.getIntRange(0,this.settings.variants-1),s=A.getFloat(),i=255*(.5*function(e,t){return Math.abs(e)**t*Math.sign(e)}(-(1-Math.min(s/.7,1))+Math.max(0,s-.7)/(1-.7),1.2)+.5);e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex),e.variantOffset.set(t,r),e.variantStroke.set(t,o),e.variantExtension.set(t,i)}}const u=new Float32Array(6),f=new Uint32Array(u.buffer),d=new Uint32Array(1);function g(e){return u[0]=e.position0[0],u[1]=e.position0[1],u[2]=e.position0[2],u[3]=e.position1[0],u[4]=e.position1[1],u[5]=e.position1[2],d[0]=31*(31*(31*(31*(31*(166811+f[0])+f[1])+f[2])+f[3])+f[4])+f[5],d[0]}function h(e){const t=u;t[0]=T(e.position0[0]),t[1]=T(e.position0[1]),t[2]=T(e.position0[2]),t[3]=T(e.position1[0]),t[4]=T(e.position1[1]),t[5]=T(e.position1[2]),d[0]=5381;for(let n=0;n<f.length;n++)d[0]=31*d[0]+f[n];return d[0]}const p=1e4;function T(e){return Math.round(e*p)/p}class N{constructor(){this._commonWriter=new l}updateSettings(e){this._commonWriter.updateSettings(e)}allocate(e){return c.dG.createBuffer(e)}write(e,t,n){this._commonWriter.write(e,t,n),(0,o.g)(m,n.faceNormal0,n.faceNormal1),(0,o.n)(m,m);const{typedBuffer:r,typedBufferStride:s}=e.normalCompressed;(0,a.hd)(r,t,m[0],m[1],m[2],s)}}N.Layout=c.dG,N.glLayout=(0,i.K)(c.dG,1);class I{constructor(){this._commonWriter=new l}updateSettings(e){this._commonWriter.updateSettings(e)}allocate(e){return c.Hr.createBuffer(e)}write(e,t,n){this._commonWriter.write(e,t,n);{const{typedBuffer:r,typedBufferStride:o}=e.normalCompressed;(0,a.hd)(r,t,n.faceNormal0[0],n.faceNormal0[1],n.faceNormal0[2],o)}{const{typedBuffer:r,typedBufferStride:o}=e.normal2Compressed;(0,a.hd)(r,t,n.faceNormal1[0],n.faceNormal1[1],n.faceNormal1[2],o)}}}I.Layout=c.Hr,I.glLayout=(0,i.K)(c.Hr,1);const m=(0,s.Ue)(),A=new r.Z},32666:(e,t,n)=>{n.d(t,{n:()=>c});var r=n(16889),o=n(10199),s=n(32035),i=n(12400);const a=-1;function c(e,t,n){const r=e.vertices.position,o=e.vertices.componentIndex,i=p.position0,c=p.position1,f=p.faceNormal0,g=p.faceNormal1,{edges:h,normals:T}=u(e),N=h.length/4,I=t.allocate(N);let m=0;const A=N,S=n?.allocate(A);let E=0,v=0,L=0;d.length=0;for(let a=0;a<N;++a){const e=4*a;r.getVec(h.data[e],i),r.getVec(h.data[e+1],c);const t=d.pushNew();t.index=4*a,t.length=(0,s.j)(i,c)}d.sort(((e,t)=>t.length-e.length));const U=new Array,D=new Array;d.forAll((e=>{let{length:u,index:d}=e;const N=h.data[d],A=h.data[d+1],V=h.data[d+2],M=h.data[d+3],R=M===a;if(r.getVec(N,i),r.getVec(A,c),R){const e=3*V;(0,s.i)(f,T.data[e],T.data[e+1],T.data[e+2]),(0,s.c)(g,f),p.componentIndex=o.get(N),p.cosAngle=(0,s.f)(f,g)}else{let e=3*V;if((0,s.i)(f,T.data[e],T.data[e+1],T.data[e+2]),e=3*M,(0,s.i)(g,T.data[e],T.data[e+1],T.data[e+2]),p.componentIndex=o.get(N),p.cosAngle=(0,s.f)(f,g),function(e,t){return e.cosAngle>t}(p,O))return;p.cosAngle<-.9999&&(0,s.c)(g,f)}v+=u,L++,R||function(e,t){return e.cosAngle<t}(p,y)?(t.write(I,m++,p),U.push(u)):l(p,w)&&(S&&n&&n.write(S,E++,p),D.push(u))}));const V=new Float32Array(U.reverse()),M=new Float32Array(D.reverse()),R=S&&n?{instancesData:S.slice(0,E),lodInfo:{lengths:M}}:void 0;return{regular:{instancesData:I.slice(0,m),lodInfo:{lengths:V}},silhouette:R,averageEdgeLength:v/L}}function l(e,t){const n=(0,r.ZF)(e.cosAngle);return(0,s.o)(N,e.position1,e.position0),n*((0,s.f)((0,s.e)(T,e.faceNormal0,e.faceNormal1),N)>0?-1:1)>t}function u(e){const t=e.faces.length/3,n=e.faces,r=e.neighbors,o=e.vertices.position;g.length=h.length=0;for(let i=0;i<t;i++){const e=3*i,t=r[e],c=r[e+1],l=r[e+2],u=n[e],f=n[e+1],d=n[e+2];o.getVec(u,I),o.getVec(f,m),o.getVec(d,A),(0,s.d)(m,m,I),(0,s.d)(A,A,I),(0,s.e)(I,m,A),(0,s.n)(I,I),h.pushArray(I),(t===a||u<f)&&(g.push(u),g.push(f),g.push(i),g.push(t)),(c===a||f<d)&&(g.push(f),g.push(d),g.push(i),g.push(c)),(l===a||d<u)&&(g.push(d),g.push(u),g.push(i),g.push(l))}return{edges:g,normals:h}}class f{constructor(){this.index=0,this.length=0}}const d=new o.Z({allocator:e=>e||new f,deallocator:null}),g=new o.Z({deallocator:null}),h=new o.Z({deallocator:null}),p=new class{constructor(){this.position0=(0,i.Ue)(),this.position1=(0,i.Ue)(),this.faceNormal0=(0,i.Ue)(),this.faceNormal1=(0,i.Ue)(),this.componentIndex=0,this.cosAngle=0}},T=(0,i.Ue)(),N=(0,i.Ue)(),I=(0,i.Ue)(),m=(0,i.Ue)(),A=(0,i.Ue)(),w=(0,r.Vl)(4),O=Math.cos(w),S=(0,r.Vl)(35),y=Math.cos(S)},79762:(e,t,n)=>{n.d(t,{Kl:()=>u,extractComponentsEdgeLocationsLayout:()=>T,kY:()=>f,Yr:()=>p});var r=n(35888);function o(e,t,n){const r=t/3,o=new Uint32Array(n+1),s=new Uint32Array(n+1),i=(e,t)=>{e<t?o[e+1]++:s[t+1]++};for(let N=0;N<r;N++){const t=e[3*N],n=e[3*N+1],r=e[3*N+2];i(t,n),i(n,r),i(r,t)}let a=0,c=0;for(let N=0;N<n;N++){const e=o[N+1],t=s[N+1];o[N+1]=a,s[N+1]=c,a+=e,c+=t}const l=new Uint32Array(6*r),u=o[n],f=(e,t,n)=>{if(e<t){const r=o[e+1]++;l[2*r]=t,l[2*r+1]=n}else{const r=s[t+1]++;l[2*u+2*r]=e,l[2*u+2*r+1]=n}};for(let N=0;N<r;N++){const t=e[3*N],n=e[3*N+1],r=e[3*N+2];f(t,n,N),f(n,r,N),f(r,t,N)}const d=(e,t)=>{const n=2*e,r=t-e;for(let o=1;o<r;o++){const e=l[n+2*o],t=l[n+2*o+1];let r=o-1;for(;r>=0&&l[n+2*r]>e;r--)l[n+2*r+2]=l[n+2*r],l[n+2*r+3]=l[n+2*r+1];l[n+2*r+2]=e,l[n+2*r+3]=t}};for(let N=0;N<n;N++)d(o[N],o[N+1]),d(u+s[N],u+s[N+1]);const g=new Int32Array(3*r),h=(t,n)=>t===e[3*n]?0:t===e[3*n+1]?1:t===e[3*n+2]?2:-1,p=(e,t)=>{const n=h(e,t);g[3*t+n]=-1},T=(e,t,n,r)=>{const o=h(e,t);g[3*t+o]=r;const s=h(n,r);g[3*r+s]=t};for(let N=0;N<n;N++){let e=o[N];const t=o[N+1];let n=s[N];const r=s[N+1];for(;e<t&&n<r;){const t=l[2*e],r=l[2*u+2*n];t===r?(T(N,l[2*e+1],r,l[2*u+2*n+1]),e++,n++):t<r?(p(N,l[2*e+1]),e++):(p(r,l[2*u+2*n+1]),n++)}for(;e<t;)p(N,l[2*e+1]),e++;for(;n<r;)p(l[2*u+2*n],l[2*u+2*n+1]),n++}return g}var s=n(55158),i=n(4760),a=n(67009),c=n(41371),l=n(32666);function u(e){const t=f(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return g.updateSettings(e.writerSettings),h.updateSettings(e.writerSettings),(0,l.n)(t,g,h)}function f(e,t,n,s){if(t){const t=o(n,s,e.count);return new d(n,s,t,e)}const i=(0,r.d)(e.buffer,e.stride/4,{originalIndices:n,originalIndicesLength:s}),c=o(i.indices,s,i.uniqueCount);return{faces:i.indices,facesLength:i.indices.length,neighbors:c,vertices:a.EdgeInputBufferLayout.createView(i.buffer)}}class d{constructor(e,t,n,r){this.faces=e,this.facesLength=t,this.neighbors=n,this.vertices=r}}const g=new c.D,h=new c.q,p=(0,s.U$)().vec3f(i.T.POSITION0).vec3f(i.T.POSITION1),T=(0,s.U$)().vec3f(i.T.POSITION0).vec3f(i.T.POSITION1).u16(i.T.COMPONENTINDEX)}}]);
//# sourceMappingURL=5569.8c1b294e.chunk.js.map