"use strict";(self.webpackChunksc_land=self.webpackChunksc_land||[]).push([[4663],{74663:(t,e,i)=>{i.r(e),i.d(e,{default:()=>W});var s=i(72791),a=i(36801),r=i(59181),n=i(97304),o=i(66817),h=i(56343),l=i(70565),u=i(12657),d=i(54797),g=i(95494),c=i(3387),p=i(83258),m=i(37919),v=i(47835),b=i(53446),_=i(66683),f=i(14628);class w extends m.W{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=f.Fy(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=p.c.new(this._root,{themeTags:f.Fy(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(b.z.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:v.T.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(p.c.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(t){t&&this._disposers.push(t.events.on("stopped",(()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1})))}_afterNew(){this._addOrientationClass(),super._afterNew();const t=this.startGrip,e=this.endGrip,i=this.thumb,s=this.get("background");s&&this._disposers.push(s.events.on("click",(t=>{this.setPrivateRaw("isBusy",!0);const e=this._display.toLocal(t.point),s=this.width(),a=this.height(),r=this.get("orientation");let n,o,h;n="vertical"==r?(e.y-i.height()/2)/a:(e.x-i.width()/2)/s,"vertical"==r?(o=n*a,h="y"):(o=n*s,h="x");const l=this.get("animationDuration",0);l>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:h,to:o,duration:l,easing:this.get("animationEasing")}))):(this.thumb.set(h,o),this._root.events.once("frameended",(()=>{this.setPrivateRaw("isBusy",!1)})))}))),this._disposers.push(i.events.on("dblclick",(t=>{if(!f.sp(t.originalEvent,this))return;const e=this.get("animationDuration",0),i=this.get("animationEasing");this.animate({key:"start",to:0,duration:e,easing:i}),this.animate({key:"end",to:1,duration:e,easing:i})}))),this._disposers.push(t.events.on("pointerdown",(()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"}))),this._disposers.push(e.events.on("pointerdown",(()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"}))),this._disposers.push(i.events.on("pointerdown",(()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0}))),this._disposers.push(t.events.on("globalpointerup",(()=>{this._startDown&&this.setPrivateRaw("isBusy",!1),this._startDown=!1}))),this._disposers.push(e.events.on("globalpointerup",(()=>{this._endDown&&this.setPrivateRaw("isBusy",!1),this._endDown=!1}))),this._disposers.push(i.events.on("globalpointerup",(()=>{this._thumbDown&&this.setPrivateRaw("isBusy",!1),this._thumbDown=!1}))),this._disposers.push(t.on("x",(()=>{this._updateThumb()}))),this._disposers.push(e.on("x",(()=>{this._updateThumb()}))),this._disposers.push(t.on("y",(()=>{this._updateThumb()}))),this._disposers.push(e.on("y",(()=>{this._updateThumb()}))),this._disposers.push(i.events.on("positionchanged",(()=>{this._updateGripsByThumb()}))),"vertical"==this.get("orientation")?(t.set("x",0),e.set("x",0),this._disposers.push(i.adapters.add("y",(t=>Math.max(Math.min(Number(t),this.height()-i.height()),0)))),this._disposers.push(i.adapters.add("x",(t=>this.width()/2))),this._disposers.push(t.adapters.add("x",(t=>this.width()/2))),this._disposers.push(e.adapters.add("x",(t=>this.width()/2))),this._disposers.push(t.adapters.add("y",(t=>Math.max(Math.min(Number(t),this.height()),0)))),this._disposers.push(e.adapters.add("y",(t=>Math.max(Math.min(Number(t),this.height()),0))))):(t.set("y",0),e.set("y",0),this._disposers.push(i.adapters.add("x",(t=>Math.max(Math.min(Number(t),this.width()-i.width()),0)))),this._disposers.push(i.adapters.add("y",(t=>this.height()/2))),this._disposers.push(t.adapters.add("y",(t=>this.height()/2))),this._disposers.push(e.adapters.add("y",(t=>this.height()/2))),this._disposers.push(t.adapters.add("x",(t=>Math.max(Math.min(Number(t),this.width()),0)))),this._disposers.push(e.adapters.add("x",(t=>Math.max(Math.min(Number(t),this.width()),0)))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const t="rangechanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}updateGrips(){const t=this.startGrip,e=this.endGrip,i=this.get("orientation"),s=this.height(),a=this.width();"vertical"==i?(t.set("y",s*this.get("start",0)),e.set("y",s*this.get("end",1))):(t.set("x",a*this.get("start",0)),e.set("x",a*this.get("end",1)));const r=this.getPrivate("positionTextFunction"),n=Math.round(100*this.get("start",0)),o=Math.round(100*this.get("end",0));let h,l;r?(h=r.call(this,this.get("start",0)),l=r.call(this,this.get("end",0))):(h=n+"%",l=o+"%"),t.set("ariaLabel",this._t("From %1",void 0,h)),t.set("ariaValueNow",""+n),t.set("ariaValueText",n+"%"),t.set("ariaValueMin","0"),t.set("ariaValueMax","100"),e.set("ariaLabel",this._t("To %1",void 0,l)),e.set("ariaValueNow",""+o),e.set("ariaValueText",o+"%"),e.set("ariaValueMin","0"),e.set("ariaValueMax","100")}_updateThumb(){const t=this.thumb,e=this.startGrip,i=this.endGrip,s=this.height(),a=this.width();let r=e.x(),n=i.x(),o=e.y(),h=i.y(),l=0,u=1;"vertical"==this.get("orientation")?_.hj(o)&&_.hj(h)&&(this._thumbBusy||t.isDragging()||(t.set("height",h-o),t.set("y",o)),l=o/s,u=h/s):_.hj(r)&&_.hj(n)&&(this._thumbBusy||t.isDragging()||(t.set("width",n-r),t.set("x",r)),l=r/a,u=n/a),!this.getPrivate("isBusy")||this.get("start")==l&&this.get("end")==u||(this.set("start",l),this.set("end",u));const d=this.getPrivate("positionTextFunction"),g=Math.round(100*this.get("start",0)),c=Math.round(100*this.get("end",0));let p,m;d?(p=d.call(this,this.get("start",0)),m=d.call(this,this.get("end",0))):(p=g+"%",m=c+"%"),t.set("ariaLabel",this._t("From %1 to %2",void 0,p,m)),t.set("ariaValueNow",""+g),t.set("ariaValueText",g+"%")}_updateGripsByThumb(){const t=this.thumb,e=this.startGrip,i=this.endGrip;if("vertical"==this.get("orientation")){const s=t.height();e.set("y",t.y()),i.set("y",t.y()+s)}else{const s=t.width();e.set("x",t.x()),i.set("x",t.x()+s)}}}Object.defineProperty(w,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"}),Object.defineProperty(w,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:m.W.classNames.concat([w.className])});class D extends w{constructor(){super(...arguments),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(c.z.new(this._root,{themeTags:["chart"],interactive:!1,interactiveChildren:!1,panX:!1,panY:!1,wheelX:"none",wheelY:"none"}))}),Object.defineProperty(this,"overlay",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(v.T.new(this._root,{themeTags:["overlay"],interactive:!1}))})}_afterNew(){this._addOrientationClass(),this._settings.themeTags=f.Fy(this._settings.themeTags,["scrollbar","xy","chart",this._settings.orientation]);const t=this.children;t.moveValue(this.thumb),t.moveValue(this.startGrip),t.moveValue(this.endGrip),this.thumb.set("opacity",0),this.thumb.states.create("hover",{opacity:.2});const e=this.chart.plotContainer;e.set("interactive",!1),e.remove("background"),e.children.removeValue(this.chart.zoomOutButton),super._afterNew()}_updateThumb(){super._updateThumb(),this.overlay.set("draw",(t=>{const e=this.startGrip,i=this.endGrip;let s=e.x(),a=e.y(),r=i.x(),n=i.y();const o=this.height(),h=this.width();s>r&&([s,r]=[r,s]),a>n&&([a,n]=[n,a]),"horizontal"===this.get("orientation")?(t.moveTo(0,0),t.lineTo(s,0),t.lineTo(s,o),t.lineTo(0,o),t.lineTo(0,0),t.moveTo(r,0),t.lineTo(h,0),t.lineTo(h,o),t.lineTo(r,o),t.lineTo(r,0)):(t.moveTo(0,0),t.lineTo(0,a),t.lineTo(h,a),t.lineTo(h,0),t.lineTo(0,0),t.moveTo(0,n),t.lineTo(0,o),t.lineTo(h,o),t.lineTo(h,n),t.lineTo(0,n))}))}}Object.defineProperty(D,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChartScrollbar"}),Object.defineProperty(D,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:w.classNames.concat([D.className])});var y=i(62973),x=i(39286),T=i(24470),P=i(38487),I=i(84668),M=i(74753),k=i(35105);class N extends P.m{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=f.Fy(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",(()=>{this._setBaseInterval(this.get("baseInterval"))}))}_setBaseInterval(t){this.setPrivateRaw("baseInterval",t),this._baseDuration=k.WI(t)}_fixZoomFactor(){const t=this.get("maxZoomFactor");null!=t&&t!=1/0?this.setPrivateRaw("maxZoomFactor",t):this.setPrivateRaw("maxZoomFactor",Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){const t=this.getPrivate("min"),e=this.getPrivate("max");if(_.hj(t)&&_.hj(e)){this._fixZoomFactor();const t=this.getPrivate("groupInterval");if(t?this._setBaseInterval(t):this._setBaseInterval(this.get("baseInterval")),this.isDirty("groupInterval")){let t=this.get("groupInterval");t&&(this.setRaw("groupIntervals",[t]),this._handleRangeChange())}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))a.S6(this.series,(t=>{this._groupSeriesData(t)})),this._handleRangeChange();else{let t=this.get("baseInterval"),e=t.timeUnit+t.count;a.S6(this.series,(t=>{t.setDataSet(e),t.resetGrouping()})),this._setBaseInterval(t),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(t){if(this.get("groupData")&&!t.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let e=[],i=this.baseMainDuration(),s=this.get("groupIntervals");a.S6(s,(t=>{k.WI(t)>i&&e.push(t)})),t._dataSets={};const r=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let n;const o=t.get("baseAxis");t.get("xAxis")===o?n=t._valueYFields:t.get("yAxis")===o&&(n=t._valueXFields);let h=t._mainDataItems,l=this.get("baseInterval"),u=l.timeUnit+l.count;t._dataSets[u]=h;const d=t.get("groupDataCallback");let g=t.get("groupDataWithOriginals",!1);d&&(g=!0);const c=this._root.locale.firstDayOfWeek,p=this._root.utc,m=this._root.timezone;a.S6(e,(e=>{let i,s=-1/0,o=e.timeUnit+e.count;t._dataSets[o]=[];let l={},u={},v={},b={};a.S6(n,(e=>{l[e]=0,u[e]=0,v[e]=t.get(e+"Grouped"),b[e]=e+"Working"}));let f,w,D=k.g9(e.timeUnit);h[0]&&(f=new Date(h[0].get(r))),a.S6(h,(h=>{let y,x=h.get(r),P=k.NM(new Date(x),e.timeUnit,e.count,c,p,f,m).getTime();s<P-D/24?(y=M.JG(h.dataContext),i=new T.z(t,y,t._makeDataItem(y)),i.setRaw(r,P),t._dataSets[o].push(i),a.S6(n,(t=>{let e=h.get(t);_.hj(e)?(i.setRaw(t,e),i.setRaw(b[t],e),u[t]=1,l[t]=e):(l[t]=0,u[t]=0)})),g&&i.set("originals",[h]),d&&w&&d(w,e),w=i):(a.S6(n,(t=>{let e=v[t],s=h.get(t);if(null!=s){let a=i.get(t);switch(e){case"close":i.setRaw(t,s);break;case"sum":i.setRaw(t,a+s);break;case"open":break;case"low":s<a&&i.setRaw(t,s);break;case"high":s>a&&i.setRaw(t,s);break;case"average":u[t]++,l[t]+=s;let e=l[t]/u[t];i.setRaw(t,e);break;case"extreme":Math.abs(s)>Math.abs(a)&&i.setRaw(t,s)}i.setRaw(b[t],i.get(t));let n=M.JG(h.dataContext);n[r]=P,i.dataContext=n}})),g&&i.get("originals").push(h)),s=P})),d&&w&&d(w,e)})),t._dataSetId&&t.setDataSet(t._dataSetId),this.markDirtySize()}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(t){let e=this.get("baseInterval"),i=k.Pk(0,t,this.get("groupCount",1/0),this.get("groupIntervals"));return k.WI(i)<k.WI(e)&&(i=Object.assign({},e)),i}getIntervalMax(t){return this._intervalMax[t.timeUnit+t.count]}getIntervalMin(t){return this._intervalMin[t.timeUnit+t.count]}_handleRangeChange(){super._handleRangeChange();let t=Math.round(this.getPrivate("selectionMin")),e=Math.round(this.getPrivate("selectionMax"));if(_.hj(t)&&_.hj(e)){if(0==this.get("endLocation")&&(e+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let i=e-t+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration()),s=this.get("groupInterval");s||(s=this.getGroupInterval(i));let r=this.getPrivate("groupInterval");if(s&&(!r||r.timeUnit!==s.timeUnit||r.count!==s.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",s),this._setBaseInterval(s);let t=s.timeUnit+s.count;a.S6(this.series,(e=>{e.get("baseAxis")===this&&e.setDataSet(t)})),this.markDirtyExtremes(),this._root.events.once("frameended",(()=>{this._root.events.once("frameended",(()=>{const t="groupintervalchanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}))}))}}a.S6(this.series,(i=>{if(i.get("baseAxis")===this){let s=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let r=a.Tb(i.dataItems,(e=>I.qu(e.get(s),t))).index;r>0&&(r-=1),e+=this.baseDuration()*(1-this.get("endLocation",1));let n=a.sK(i.dataItems,(t=>I.qu(t.get(s),e))).index,o=n;o>1&&o--;const h=i.dataItems[r],l=i.dataItems[o];let u,d;h&&(d=h.get(s)),l&&(u=l.get(s));let g=!1;null!=u&&null!=d&&(u<t||d>e)&&(g=!0),i.setPrivate("outOfSelection",g),i.setPrivate("startIndex",r),i.setPrivate("endIndex",n)}}))}}_adjustMinMax(t,e,i,s){return{min:t,max:e,step:(e-t)/i}}intervalDuration(){return this._intervalDuration}_saveMinMax(t,e){let i=this.getPrivate("groupInterval");i||(i=this.get("baseInterval"));let s=i.timeUnit+i.count;this._intervalMin[s]=t,this._intervalMax[s]=e}_getM(t){return"month"==t||"year"==t||"day"==t?1.05:1.01}_prepareAxisItems(){const t=this.getPrivate("min"),e=this.getPrivate("max");if(_.hj(t)&&_.hj(e)){const e=Math.round(this.getPrivate("selectionMin")),i=Math.round(this.getPrivate("selectionMax")),s=this.get("renderer"),r=this.getPrivate("baseInterval");let n=e,o=0;const h=this.get("gridIntervals");let l=k.Pk(0,i-e,s.gridCount(),h);k.WI(l)<this.baseDuration()&&(l=Object.assign({},r));const u=k.WI(l);this._intervalDuration=u;const d=k.XC(l.timeUnit),g=this._root.locale.firstDayOfWeek,c=this._root.utc,p=this._root.timezone;n=k.NM(new Date(e-u),l.timeUnit,l.count,g,c,new Date(t),p).getTime();let m,v=n-u;const b=this.get("dateFormats");for(this.setPrivateRaw("gridInterval",l);n<i+u;){let t;this.dataItems.length<o+1?(t=new T.z(this,void 0,{}),this._dataItems.push(t),this.processDataItem(t)):t=this.dataItems[o],this._createAssets(t,[]),this._toggleDataItem(t,!0),t.setRaw("value",n);let e=n+k.g9(l.timeUnit,l.count*this._getM(l.timeUnit));e=k.NM(new Date(e),l.timeUnit,1,g,c,void 0,p).getTime(),t.setRaw("endValue",e);let i=new Date(n);m=b[l.timeUnit],d&&this.get("markUnitChange")&&_.hj(v)&&"year"!=l.timeUnit&&k.oE(n,v,d,c,p)&&(m=this.get("periodChangeDateFormats")[l.timeUnit]);const s=t.get("label");if(s&&s.set("text",this._root.dateFormatter.format(i,m)),this._prepareDataItem(t,l.count),v=n,n=e,n==v)break;o++}for(let t=o;t<this.dataItems.length;t++)this._toggleDataItem(this.dataItems[t],!1);a.S6(this.series,(t=>{t.inited&&t._markDirtyAxes()}))}this._updateGhost()}_updateFinals(t,e){this.setPrivateRaw("selectionMinFinal",this.positionToValue(t)),this.setPrivateRaw("selectionMaxFinal",this.positionToValue(e))}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(t){const e=this.getPrivate("baseInterval"),i=this._root.locale.firstDayOfWeek,s=this._root.timezone,a=this._root.utc,r=e.timeUnit;let n=k.NM(new Date(t),r,e.count,i,a,void 0,s).getTime(),o=n+k.g9(r,e.count*this._getM(r));return o=k.NM(new Date(o),r,1,i,a,void 0,s).getTime(),n+(o-n)*this.get("startLocation",0)}_fixMax(t){const e=this.getPrivate("baseInterval"),i=this._root.locale.firstDayOfWeek,s=this._root.timezone,a=this._root.utc,r=e.timeUnit;let n=k.NM(new Date(t),r,e.count,i,a,void 0,s).getTime(),o=n+k.g9(r,e.count*this._getM(r));return o=k.NM(new Date(o),r,1,i,a,void 0,s).getTime(),n+(o-n)*this.get("endLocation",1)}_updateDates(t,e){}baseDuration(){return this._baseDuration}baseMainDuration(){return k.WI(this.get("baseInterval"))}processSeriesDataItem(t,e){const i=this.getPrivate("baseInterval");t.open||(t.open={}),t.close||(t.close={}),a.S6(e,(e=>{let s=t.get(e);if(_.hj(s)){let a=t.open[e],r=t.close[e];if(s>=a&&s<=r);else{const n=this._root.locale.firstDayOfWeek,o=this._root.utc,h=this._root.timezone,l=i.timeUnit,u=i.count;a=k.NM(new Date(s),l,u,n,o,void 0,h).getTime(),r=a+k.g9(l,u*this._getM(l)),r=k.NM(new Date(r),l,1,n,o,void 0,h).getTime(),t.open[e]=a,t.close[e]=r}this._updateDates(a,t.component)}}))}getDataItemPositionX(t,e,i,s){let a,r;t.open&&t.close?(a=t.open[e],r=t.close[e]):(a=t.get(e),r=a);let n=a+(r-a)*i;return n=this._baseValue+(n-this._baseValue)*s,this.valueToPosition(n)}getDataItemCoordinateX(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,e,i,s))}getDataItemPositionY(t,e,i,s){let a,r;t.open&&t.close?(a=t.open[e],r=t.close[e]):(a=t.get(e),r=a);let n=a+(r-a)*i;return n=this._baseValue+(n-this._baseValue)*s,this.valueToPosition(n)}getDataItemCoordinateY(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,e,i,s))}roundAxisPosition(t,e){let i=this.positionToValue(t);i-=(e-.5)*this.baseDuration();let s=this.getPrivate("baseInterval");if(!_.i2(i)){const t=this._root.locale.firstDayOfWeek,a=s.timeUnit,r=this._root.utc,n=this._root.timezone,o=s.count;i=k.NM(new Date(i),a,o,t,r,new Date(this.getPrivate("min",0)),n).getTime();let h=k.zX(s,new Date(i),t,r,n);return n&&(i=k.NM(new Date(i+.05*this.baseDuration()),a,o,t,r,new Date(this.getPrivate("min",0)),n).getTime(),h=k.zX(s,new Date(i+h*e),t,r,n)),this.valueToPosition(i+h*e)}return NaN}getTooltipText(t,e){if(null!=this.getPrivate("min")){let i=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],s=this.positionToValue(t);if(_.hj(s)){let t=new Date(s),a=this.getPrivate("baseInterval"),r=k.zX(a,t,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return!1!==e&&(t=new Date(s+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*r)),this._root.dateFormatter.format(t,this.get("tooltipDateFormat",i))}}return""}getSeriesItem(t,e,i,s){let r=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),n=this.positionToValue(e);null==i&&(i=.5),n-=(i-.5)*this.baseDuration();const o=a.sK(t.dataItems,(t=>{let e=0;return t.open&&(e=t.open[r]),I.qu(e,n)}));if(s||t.get("snapTooltip")){let e=t.dataItems[o.index-1],i=t.dataItems[o.index];if(e&&i&&e.open&&i.close){let t=e.open[r],s=i.close[r];if(Math.abs(n-t)>Math.abs(n-s))return i}if(e)return e;if(i)return i}else{const e=t.dataItems[o.index-1];if(e&&e.open&&e.close){let t=e.open[r],i=e.close[r];if(n>=t&&n<=i)return e}}}shouldGap(t,e,i,s){const a=t.get(s);return e.get(s)-a>this.baseDuration()*i}zoomToDates(t,e,i){this.zoomToValues(t.getTime(),e.getTime(),i)}positionToDate(t){return new Date(this.positionToValue(t))}dateToPosition(t){return this.valueToPosition(t.getTime())}getCellWidthPosition(){let t=this.getPrivate("selectionMax",this.getPrivate("max")),e=this.getPrivate("selectionMin",this.getPrivate("min"));return _.hj(t)&&_.hj(e)?this._intervalDuration/(t-e):.05}}Object.defineProperty(N,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"}),Object.defineProperty(N,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:P.m.classNames.concat([N.className])});var j=i(71570),O=i(97873),C=i(80659),A=i(91934),R=i(44520),G=i(28979),S=i(53970),B=i(18661),F=i(21149),z=i(26877),U=i(70821),V=i(80184);const W=()=>{const{municipality:t,barangays:e}=(0,U.tv)(),i=null===t?void 0:t.field1,p=null===e?void 0:e.name,m=(0,s.useRef)({}),v=(0,s.useRef)({}),b=(0,s.useRef)({}),_=(0,s.useRef)({}),[f,w]=(0,s.useState)([]),T="lot-progress";return(0,s.useEffect)((()=>{(0,R.sb)(i,p).then((t=>{w(t)}))}),[i,p]),(0,s.useEffect)((()=>{var t,e,s;s=T,a.S6(r.i_.rootElements,(function(t){t.dom.id===s&&t.dispose()}));var w=n.f.new(T);w.container.children.clear(),null===(t=w._logo)||void 0===t||t.dispose(),w.setThemes([C.Z.new(w),A.Z.new(w)]);var I=w.container.children.push(c.z.new(w,{panX:!1,panY:!1,wheelX:"panX",wheelY:"zoomX",paddingBottom:35,layout:w.verticalLayout}));_.current=I;let M=D.new(w,{orientation:"vertical"});M.startGrip.set("scale",.7),M.endGrip.set("scale",.7),I.set("scrollbarY",M);let k=I.get("scrollbarY");null===k||void 0===k||null===(e=k.get("background"))||void 0===e||e.setAll({fill:o.$_("#ffffff"),fillOpacity:.2}),I.children.unshift(h._.new(w,{text:"Monthly Progress & Target Schedule of Handed Over Lots",fontSize:14,fontWeight:"bold",textAlign:"center",fill:o.$_("#ffffff"),x:l.aQ(50),centerX:l.aQ(50),paddingTop:0,marginBottom:10})),I.set("cursor",y.L.new(w,{behavior:"zoomX"})).lineY.set("visible",!1);var U=x.n.new(w,{strokeOpacity:1,strokeWidth:1,stroke:o.$_("#ffffff")}),V=I.xAxes.push(N.new(w,{maxDeviation:0,groupData:!0,baseInterval:{timeUnit:"day",count:1},groupIntervals:[{timeUnit:"month",count:1}],renderer:U,tooltip:u.u.new(w,{})}));V.get("renderer").labels.template.setAll({textAlign:"center",fill:o.$_("#ffffff"),fontSize:12});var W=I.yAxes.push(P.m.new(w,{min:0,strictMinMax:!0,renderer:j.j.new(w,{minGridDistance:60,strokeOpacity:1,strokeWidth:1,stroke:o.$_("#ffffff")})}));W.get("renderer").labels.template.setAll({textAlign:"center",fill:o.$_("#ffffff"),fontSize:12}),v.current=V,b.current=W,W.children.unshift(h._.new(w,{rotation:-90,y:l.CI,centerX:l.CI,fill:o.$_("#ffffff"),fontSize:11}));var X=I.children.push(d.D.new(w,{centerX:l.CI,centerY:l.aQ(50),x:l.CI,y:l.aQ(108),marginTop:-20}));function Y(t,e,s){var a,r=I.series.push(O.d.new(w,{name:t,stacked:!0,xAxis:V,yAxis:W,valueYField:e,categoryXField:"date",valueXField:"date",fill:s,stroke:s}));r.columns.template.events.on("click",(t=>{var s;const r=null===(s=t.target.dataItem)||void 0===s?void 0:s.dataContext,n=new Date(null===r||void 0===r?void 0:r.date),o=(0,R._m)(new Date(n)),h="target"===e?`${z.N4} <= date'`+o+"'":`${z.kr} <= date'`+o+"'",l="Municipality = '"+i+"'",u=l+" AND "+("Barangay = '"+p+"'"),d="target"===e?1:2,g=`${z.Rf} = `+d;let c;var m=G.Aj.createQuery();i&&p?(m.where=u+" AND "+g+" AND "+h,c=u+" AND "+g+" AND "+h):i&&!p?(m.where=l+" AND "+g+" AND "+h,c=l+" AND "+g+" AND "+h):(m.where=g+" AND "+h,c=g+" AND "+h),S.ei.whenLayerView(G.Aj).then((t=>{G.Aj.queryFeatures(m).then((e=>{const i=e.features.length;let s=[];for(var r=0;r<i;r++){var n=e.features[r].attributes.OBJECTID;s.push(n)}var o=new F.Z({objectIds:s});G.Aj.queryExtent(o).then((function(t){t.extent&&S.ei.goTo(t.extent)})),a&&a.remove(),a=t.highlight(s),S.ei.on("click",(function(){t.filter=new B.Z({where:void 0}),a.remove()}))}))}))})),r.columns.template.setAll({tooltipText:'{name}: {valueY} ({valueYTotalPercent.formatNumber("#.#")}%)',tooltipY:l.aQ(10)}),r.data.setAll(f),r.appear(),r.bullets.push((function(){return g.g.new(w,{sprite:h._.new(w,{text:"{valueY}",fill:w.interfaceColors.get("alternativeText"),centerY:l.CI,centerX:l.CI,populateText:!0})})})),X.data.push(r)}return m.current=X,X.labels.template.setAll({oversizedBehavior:"truncate",fill:o.$_("#ffffff"),fontSize:17,scale:.7}),Y("Actual","actual",o.$_("#0096FF")),Y("Target","target",o.$_("#FF5733")),I.appear(1e3,100),()=>{w.dispose()}}),[T,f]),(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("div",{id:T,style:{height:"40vh",width:"70%",backgroundColor:"#2b2b2b",color:"white",position:"absolute",zIndex:99,bottom:10,marginLeft:"1vw",marginRight:"auto"}})})}}}]);
//# sourceMappingURL=4663.bc4c2fa5.chunk.js.map