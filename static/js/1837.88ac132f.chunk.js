"use strict";(self.webpackChunksc_land=self.webpackChunksc_land||[]).push([[1837,6754],{6754:(t,n,r)=>{r.d(n,{a:()=>o,b:()=>s,n:()=>l,s:()=>a,t:()=>i});r(93169);var e=r(32718);function o(t,n,r){i(t.typedBuffer,n.typedBuffer,r,t.typedBufferStride,n.typedBufferStride)}function i(t,n,r){let e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e;if(t.length/e!=n.length/o)return;const i=t.length/e,l=r[0],a=r[1],s=r[2],u=r[3],c=r[4],f=r[5],p=r[6],g=r[7],d=r[8];let y=0,A=0;for(let h=0;h<i;h++){const r=n[y],i=n[y+1],h=n[y+2],m=n[y+3];t[A]=l*r+u*i+p*h,t[A+1]=a*r+c*i+g*h,t[A+2]=s*r+f*i+d*h,t[A+3]=m,y+=o,A+=e}}function l(t,n){const r=Math.min(t.count,n.count),e=t.typedBuffer,o=t.typedBufferStride,i=n.typedBuffer,l=n.typedBufferStride;for(let a=0;a<r;a++){const t=a*o,n=a*l,r=i[n],s=i[n+1],u=i[n+2],c=r*r+s*s+u*u;if(c>0){const n=1/Math.sqrt(c);e[t]=n*r,e[t+1]=n*s,e[t+2]=n*u}}}function a(t,n,r){s(t.typedBuffer,n,r,t.typedBufferStride)}function s(t,n,r){let e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;const o=Math.min(t.length/e,n.count),i=n.typedBuffer,l=n.typedBufferStride;let a=0,s=0;for(let u=0;u<o;u++)t[s]=r*i[a],t[s+1]=r*i[a+1],t[s+2]=r*i[a+2],t[s+3]=r*i[a+3],a+=l,s+=e}Object.freeze(Object.defineProperty({__proto__:null,normalize:l,scale:s,scaleView:a,transformMat3:i,transformMat3View:o,transformMat4:function(t,n,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o;if(t.length/o!=n.length/i)return void e.Z.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const l=t.length/o,a=r[0],s=r[1],u=r[2],c=r[3],f=r[4],p=r[5],g=r[6],d=r[7],y=r[8],A=r[9],h=r[10],m=r[11],T=r[12],v=r[13],w=r[14],_=r[15];let F=0,R=0;for(let e=0;e<l;e++){const r=n[F],e=n[F+1],l=n[F+2],E=n[F+3];t[R]=a*r+f*e+y*l+T*E,t[R+1]=s*r+p*e+A*l+v*E,t[R+2]=u*r+g*e+h*l+w*E,t[R+3]=c*r+d*e+m*l+_*E,F+=i,R+=o}},transformMat4View:function(t,n,r){if(t.count!==n.count)return;const e=t.count,o=r[0],i=r[1],l=r[2],a=r[3],s=r[4],u=r[5],c=r[6],f=r[7],p=r[8],g=r[9],d=r[10],y=r[11],A=r[12],h=r[13],m=r[14],T=r[15],v=t.typedBuffer,w=t.typedBufferStride,_=n.typedBuffer,F=n.typedBufferStride;for(let R=0;R<e;R++){const t=R*w,n=R*F,r=_[n],e=_[n+1],E=_[n+2],b=_[n+3];v[t]=o*r+s*e+p*E+A*b,v[t+1]=i*r+u*e+g*E+h*b,v[t+2]=l*r+c*e+d*E+m*b,v[t+3]=a*r+f*e+y*E+T*b}}},Symbol.toStringTag,{value:"Module"}))},27474:(t,n,r)=>{r.d(n,{Q:()=>p});var e,o=r(27366),i=r(46784),l=r(84652),a=r(32718),s=r(49861),u=r(89125),c=r(69912),f=r(40726);let p=e=class extends i.wq{constructor(t){super(t),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(t){return(0,f.X)(t,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},a.Z.getLogger(this))}castPosition(t){return t&&t instanceof Float32Array&&a.Z.getLogger(this).warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),(0,f.X)(t,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},a.Z.getLogger(this))}castUv(t){return(0,f.X)(t,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},a.Z.getLogger(this))}castNormal(t){return(0,f.X)(t,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},a.Z.getLogger(this))}castTangent(t){return(0,f.X)(t,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},a.Z.getLogger(this))}clone(){const t={position:(0,l.d9)(this.position),uv:(0,l.d9)(this.uv),normal:(0,l.d9)(this.normal),tangent:(0,l.d9)(this.tangent),color:(0,l.d9)(this.color)};return new e(t)}clonePositional(){const t={position:(0,l.d9)(this.position),normal:(0,l.d9)(this.normal),tangent:(0,l.d9)(this.tangent),uv:this.uv,color:this.color};return new e(t)}get memoryUsage(){let t=0;return t+=this.position.byteLength,null!=this.uv&&(t+=this.uv.byteLength),null!=this.normal&&(t+=this.normal.byteLength),null!=this.tangent&&(t+=this.tangent.byteLength),null!=this.color&&(t+=this.color.byteLength),t}};(0,o._)([(0,s.Cb)({json:{write:f.d}})],p.prototype,"color",void 0),(0,o._)([(0,u.p)("color")],p.prototype,"castColor",null),(0,o._)([(0,s.Cb)({nonNullable:!0,json:{write:f.d}})],p.prototype,"position",void 0),(0,o._)([(0,u.p)("position")],p.prototype,"castPosition",null),(0,o._)([(0,s.Cb)({json:{write:f.d}})],p.prototype,"uv",void 0),(0,o._)([(0,u.p)("uv")],p.prototype,"castUv",null),(0,o._)([(0,s.Cb)({json:{write:f.d}})],p.prototype,"normal",void 0),(0,o._)([(0,u.p)("normal")],p.prototype,"castNormal",null),(0,o._)([(0,s.Cb)({json:{write:f.d}})],p.prototype,"tangent",void 0),(0,o._)([(0,u.p)("tangent")],p.prototype,"castTangent",null),p=e=(0,o._)([(0,c.j)("esri.geometry.support.MeshVertexAttributes")],p)},40726:(t,n,r)=>{function e(t,n,r,e){const{loggerTag:o,stride:i}=n;return t.length%i!=0?(e.error(o,`Invalid array length, expected a multiple of ${i}`),new r([])):t}function o(t,n,r,o,i){if(!t)return t;if(t instanceof n)return e(t,o,n,i);for(const l of r)if(t instanceof l)return e(new n(t),o,n,i);if(Array.isArray(t))return e(new n(t),o,n,i);{const e=r.map((t=>`'${t.name}'`));return i.error(`Failed to set property, expected one of ${e}, but got ${t.constructor.name}`),new n([])}}function i(t,n,r){n[r]=function(t){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}(t)}r.d(n,{X:()=>o,d:()=>i})},11837:(t,n,r)=>{r.d(n,{convertMeshVertexSpace:()=>s});var e=r(10064),o=r(84652),i=r(66978),l=r(27474),a=r(66149);async function s(t,n,r){await Promise.resolve(),(0,i.k_)(r);const s=(0,a.qk)(t,n,{useEllipsoid:r?.useEllipsoid});if(!s)throw new e.Z("meshUtils:convertVertexSpace()","Failed to convert to provided vertex space due to projection errors");const u=t.cloneAndModifyVertexAttributes(new l.Q({...s,uv:(0,o.d9)(t.vertexAttributes.uv),color:(0,o.d9)(t.vertexAttributes.color)}),n);return u.transform=null,u}},11700:(t,n,r)=>{r.d(n,{$s:()=>O,Gi:()=>m,Iz:()=>v,M2:()=>M,MO:()=>N,Ot:()=>b,To:()=>F,VS:()=>E,XO:()=>_,Yk:()=>w,pn:()=>T,w9:()=>R,wi:()=>S});var e=r(16889),o=r(29303),i=r(21389),l=r(29134),a=r(7025),s=r(32035),u=r(12400),c=r(37998),f=r(50628),p=r(22186),g=r(92975),d=r(81753),y=r(25158),A=r(11186),h=r(6754);const m="Projection may be possible after calling projection.load().";function T(t,n,r,e){t.error(`Failed to project from (wkid:${n.wkid}) to (wkid:${r.wkid}).${e?" ":""}${e}`)}function v(t,n,r,e,o,i){return B(C.TO_PCPF,y.ct.fromTypedArray(t),N.NORMAL,y.fP.fromTypedArray(n),r,y.fP.fromTypedArray(e),o,y.ct.fromTypedArray(i))?i:null}function w(t,n,r,e,o,i){return B(C.FROM_PCPF,y.ct.fromTypedArray(t),N.NORMAL,y.fP.fromTypedArray(n),r,y.fP.fromTypedArray(e),o,y.ct.fromTypedArray(i))?i:null}function _(t,n,r,e){return(0,f.projectBuffer)(t,n,0,r,e,0)?r:null}function F(t,n,r,e){return(0,f.projectBuffer)(t,n,0,r,e,0)?r:null}function R(t,n,r){return(0,o.XL)(j,r),(0,A.b)(n,t,j),(0,e.oc)(j)&&(0,A.n)(n,n),n}function E(t,n,r){return(0,o.xO)(j,r),(0,h.t)(n,t,j),(0,e.oc)(j)&&(0,A.n)(n,n,4),n}function b(t,n,r,o){const i=n===N.NORMAL;return P(t,n,r,((t,n)=>{const r=Math.cos((0,e.Vl)(t));n[0]=i?r:1/r,n[1]=1}),o)}function O(t,n,r,e){const o=n===N.NORMAL;return P(t,n,r,((t,n)=>{const r=Math.cosh(-t/p.sv.radius);n[0]=1,n[1]=o?r:1/r}),e)}function P(t,n,r,e,o){const i=n===N.NORMAL?3:4,l=[0,0];for(let a=0,s=1;a<t.length;a+=i,s+=3){e(r[s],l);const n=t[a]*l[0],u=t[a+1]*l[1],c=t[a+2],f=1/Math.sqrt(n*n+u*u+c*c);o[a]=n*f,o[a+1]=u*f,o[a+2]=c*f,4===i&&(o[a+3]=t[a+3])}return o}function S(t,n,r,e,o,i){if(!B(C.TO_PCPF,y.ct.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),N.TANGENT,y.fP.fromTypedArray(n),r,y.fP.fromTypedArray(e),o,y.ct.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let l=3;l<t.length;l+=4)i[l]=t[l];return i}function M(t,n,r,e,o,i){if(!B(C.FROM_PCPF,y.ct.fromTypedArray(t,16),N.TANGENT,y.fP.fromTypedArray(n),r,y.fP.fromTypedArray(e),o,y.ct.fromTypedArray(i,16)))return null;for(let l=3;l<t.length;l+=4)i[l]=t[l];return i}var N,C,U;function x(t,n,r,e,i){switch((0,c.B)(e,r,V,e),t===C.FROM_PCPF&&(0,l.U_)(V,V),n){case N.NORMAL:return(0,o.XL)(i,V);case N.TANGENT:return(0,o.xO)(i,V)}}function B(t,n,r,e,o,i,l,a){if(!n)return;const u=e.count;if(function(t){return t.isWGS84||(0,g.yW)(t)||(0,g.BZ)(t)||(0,g.V2)(t)}(o))for(let c=0;c<u;c++)i.getVec(c,L),n.getVec(c,G),(0,s.q)(G,G,x(t,r,L,l,j)),a.setVec(c,G);else for(let c=0;c<u;c++){i.getVec(c,L),n.getVec(c,G);const o=(0,d.mZ)(e.get(c,1));let u=Math.cos(o);r===N.TANGENT!=(t===C.TO_PCPF)&&(u=1/u),x(t,r,L,l,j),t===C.TO_PCPF?(j[0]*=u,j[1]*=u,j[2]*=u,j[3]*=u,j[4]*=u,j[5]*=u):(j[0]*=u,j[3]*=u,j[6]*=u,j[1]*=u,j[4]*=u,j[7]*=u),(0,s.q)(G,G,j),(0,s.n)(G,G),a.setVec(c,G)}return a}(U=N||(N={}))[U.NORMAL=0]="NORMAL",U[U.TANGENT=1]="TANGENT",function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(C||(C={}));const L=(0,u.Ue)(),G=(0,u.Ue)(),V=(0,a.Ue)(),j=(0,i.Ue)()},66149:(t,n,r)=>{r.d(n,{qk:()=>w,ur:()=>O,x1:()=>v});var e=r(32718),o=r(16889),i=r(68860),l=r(29303),a=r(21389),s=r(29134),u=r(7025),c=r(32035),f=r(12400),p=r(29691),g=r(37998),d=r(68859),y=r(69048),A=r(92975),h=r(11186),m=r(11700);const T=()=>e.Z.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function v(t,n,r){let{vertexSpace:e,spatialReference:o}=r;if("georeferenced"===e.type){const r=t;if(!(0,d.K)(n,r,o))return!1;const{origin:i}=e;return(0,c.d)(t,r,i),!0}const i=(0,p.rS)(o),l=t;if(!(0,d.K)(n,l,i))return!1;const{origin:a}=e,u=C;if(!(0,g.B)(o,a,u,i))return!1;const f=(0,s.U_)(C,u);return null!=f&&((0,c.t)(t,l,f),!0)}function w(t,n,r){const{vertexSpace:e,transform:o,vertexAttributes:i}=t,a=(0,y.zZ)(e)?o:null,f=E(t.spatialReference,r,U.SOURCE_AND_TARGET);if((0,y.vI)(e,n)&&(!a||(0,s.I6)(a.localMatrix,u.Wd))&&b(f)){const{position:t,normal:n,tangent:e}=i,o=r?.allowBufferReuse;return{position:o?t:t.slice(),normal:o?n:n?.slice(),tangent:o?e:e?.slice()}}switch(t.vertexSpace.type){case"local":return"local"===n.type?function(t,n,r,e){let{vertexAttributes:o,spatialReference:i,transform:l}=t,{origin:a}=n;const u=_(i,e);if(!(0,g.B)(i,a,P,u))return(0,m.pn)(T(),i,u),null;if(l&&(0,s.Jp)(P,P,l.localMatrix),!(0,g.B)(i,r,S,u))return(0,m.pn)(T(),u,i),null;(0,s.U_)(S,S);const c=(0,s.Jp)(P,S,P);return R(c,i,e,U.SOURCE_AND_TARGET),F(o,c)}(t,t.vertexSpace,n.origin,r):function(t,n,r,e){let{spatialReference:o,vertexAttributes:i,transform:l}=t,{origin:a}=n;const u=_(o,e);if(!(0,g.B)(o,a,P,u))return(0,m.pn)(T(),o,u),null;l&&(0,s.Jp)(P,P,l.localMatrix),R(P,o,e,U.SOURCE);const f=new Float64Array(i.position.length),p=function(t,n,r,e,o){(0,h.t)(e,t,n);const i=new Float64Array(t.length);return(0,m.To)(e,o,i,r)?i:((0,m.pn)(T(),o,r),null)}(i.position,P,o,f,u);if(!p)return null;const d=function(t,n,r,e,o,i){if(null==o)return null;const l=new Float32Array(o.length);return(0,m.w9)(o,l,i),(0,m.Yk)(l,t,n,r,e,l)?l:((0,m.pn)(T(),e,n),null)}(p,o,f,u,i.normal,P);if(i.normal&&!d)return null;const y=function(t,n,r,e,o,i){if(null==o)return null;const l=new Float32Array(o.length);return(0,m.VS)(o,l,i),(0,m.M2)(l,t,n,r,e,l)?l:((0,m.pn)(T(),e,n),null)}(p,o,f,u,i.tangent,P);if(i.tangent&&!y)return null;if(r){const t=(0,c.v)(N,r);(0,h.a)(p,p,t)}return{position:p,normal:d,tangent:y}}(t,t.vertexSpace,n.origin,r);case"georeferenced":return"local"===n.type?function(t,n,r,e){let{vertexAttributes:o,spatialReference:i,transform:a}=t,{origin:u}=n;const c=_(i,e);if(!(0,g.B)(i,r,P,c))return(0,m.pn)(T(),i,c),null;const f=1/E(i,e,U.TARGET);(0,s.bA)(P,P,[f,f,f]);const p=(0,s.U_)(S,P),{position:d,normal:y,tangent:A}=function(t,n,r){if(!n)return t;if(!r){const{position:r,normal:e,tangent:o}=t;return{position:(0,h.a)(new Float64Array(r.length),r,n),tangent:o,normal:e}}const e=F(t,r.localMatrix);return(0,h.a)(e.position,e.position,n),e}(o,u,a),v=new Float64Array(d.length),w=function(t,n,r,e,o){const i=(0,m.XO)(t,n,e,o);if(!i)return(0,m.pn)(T(),n,o),null;const l=new Float64Array(i.length);return(0,h.t)(l,i,r),l}(d,i,p,v,c);if(!w)return null;const R=(0,l.XL)(M,p),b=function(t,n,r,e,o,i,l){if(null==t)return null;const a=l??new Float32Array(t.length);return(0,m.Iz)(t,n,r,e,o,a)?((0,h.b)(a,a,i),a):((0,m.pn)(T(),r,o),null)}(y,d,i,v,c,R,y!==o.normal?y:void 0);if(!b&&y)return null;const O=function(t,n,r,e,o,i,l){if(null==t)return null;const a=l??new Float32Array(t.length);return(0,m.wi)(t,n,r,e,o,a)?((0,h.b)(a,a,i,4),a):((0,m.pn)(T(),r,o),null)}(A,d,i,v,c,R,A!==o.tangent?A:void 0);return!O&&A?null:{position:w,normal:b,tangent:O}}(t,t.vertexSpace,n.origin,r):function(t,n,r,e){let{vertexAttributes:o,transform:i,spatialReference:l}=t,{origin:a}=n;const f=E(l,e,U.SOURCE_AND_TARGET),p=a||!b(f)?(0,s.JG)(P,i?.localMatrix??u.Wd):null;p&&R(p,l,e,U.SOURCE_AND_TARGET);const{position:g,normal:d,tangent:y}=p?F(o,p):o,A=e?.allowBufferReuse,m=A?g:new Float64Array(g.length);let T=g;if(a&&(T=(0,h.a)(m,T,a)),r){const t=(0,c.v)(N,r);T=(0,h.a)(m,T,t)}return{position:T!==o.position||A?T:T.slice(),normal:d!==o.normal||A?d:d?.slice(),tangent:y!==o.tangent||A?y:y?.slice()}}(t,t.vertexSpace,n.origin,r)}}function _(t,n){return n?.useEllipsoid&&(0,A.N$)(t)?p.wY:(0,p.rS)(t)}function F(t,n){const r=new Float64Array(t.position.length);(0,h.t)(r,t.position,n);const e=t.normal?new Float32Array(t.normal.length):null,o=t.tangent?new Float32Array(t.tangent.length):null;return e&&t.normal&&(0,m.w9)(t.normal,e,n),o&&t.tangent&&(0,m.VS)(t.tangent,o,n),{position:r,normal:e,tangent:o}}function R(t,n,r,e){const o=E(n,r,e);b(o)||(0,s.bA)(t,t,[o,o,o])}function E(t,n,r){const e=!!(r&U.SOURCE),o=!!(r&U.TARGET),i=n?.sourceUnit,l=n?.targetUnit;if(!i&&!l)return 1;let a=O(i,t);e||!i||b(a)||(T().warn("source unit conversion not supported"),a=1);let s=1/O(l,t);return o||!l||b(s)||(T().warn("target unit conversion not supported"),s=1),a*s}function b(t){return(0,o.Po)(t,1)}function O(t,n){if(null==t)return 1;const r=(0,i.r6)(n);return 1/(0,i.En)(r,"meters",t)}const P=(0,u.Ue)(),S=(0,u.Ue)(),M=(0,a.Ue)(),N=(0,f.Ue)(),C=(0,u.Ue)();var U,x;(x=U||(U={}))[x.NONE=0]="NONE",x[x.SOURCE=1]="SOURCE",x[x.TARGET=2]="TARGET",x[x.SOURCE_AND_TARGET=3]="SOURCE_AND_TARGET"}}]);
//# sourceMappingURL=1837.88ac132f.chunk.js.map