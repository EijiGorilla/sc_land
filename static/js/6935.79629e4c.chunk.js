"use strict";(self.webpackChunksc_land=self.webpackChunksc_land||[]).push([[6935],{36935:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var i=a(72791),r=a(28979),s=a(26101),l=a(18661),n=a(21149),o=a(36801),c=a(59181),u=a(66817),d=a(36061),f=a(70565),h=a(54797),m=a(27663),v=a(82308),p=a(80659),g=a(91934),x=a(44520),y=a(80184);const b=["Relocated","Paid","For Payment Processing","For Legal Pass","For Appraisal/OtC/Requirements for Other Entitlements","LBP Account Opening"];const w=(0,i.memo)((e=>{let{municipal:t,barangay:a}=e;const w=(0,i.useRef)({}),A=(0,i.useRef)({}),L=(0,i.useRef)({}),[E,N]=(0,i.useState)([{category:String,value:Number,sliceSettings:{fill:u.$_("#00c5ff")}}]),[R,k]=(0,i.useState)(0),j="nlo-chart",O="Municipality = '"+t+"'",S=O+" AND "+("Barangay = '"+a+"'");return t&&!a?(r.vx.definitionExpression=O,r.tP.definitionExpression=O):a&&(r.vx.definitionExpression=S,r.tP.definitionExpression=S),(0,i.useEffect)((()=>{(0,x.nf)().then((e=>{N(e)})),(0,x.wU)().then((e=>{k(e)}))}),[t,a]),(0,i.useEffect)((()=>{var e,t;t=j,o.S6(c.i_.rootElements,(function(e){e.dom.id===t&&e.dispose()}));var a=d.f.new(j);a.container.children.clear(),null===(e=a._logo)||void 0===e||e.dispose(),a.setThemes([p.Z.new(a),g.Z.new(a)]);var i=a.container.children.push(m.u.new(a,{y:f.aQ(-25),layout:a.horizontalLayout}));L.current=i;var x=i.series.push(v.f.new(a,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:f.aQ(45),innerRadius:f.aQ(20),marginBottom:-10}));w.current=x,i.series.push(x),x.slices.template.setAll({fillOpacity:.9,stroke:u.$_("#ffffff"),strokeWidth:1,strokeOpacity:1,templateField:"sliceSettings"}),x.labels.template.set("visible",!1),x.ticks.template.set("visible",!1),x.slices.template.events.on("click",(e=>{var t,a,i,o=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category;o===b[0]?i=1:o===b[1]?i=2:o===b[2]?i=3:o===b[3]?i=4:o===b[4]?i=5:o===b[5]&&(i=6);var c=r.vx.createQuery();s.ei.when((function(){s.ei.whenLayerView(r.vx).then((e=>{r.vx.queryFeatures(c).then((function(t){const i=t.features.length;let o=[];for(var c=0;c<i;c++){var u=t.features[c].attributes.OBJECTID;o.push(u)}var d=new n.Z({objectIds:o});r.vx.queryExtent(d).then((function(e){e.extent&&s.ei.goTo(e.extent)})),a&&a.remove(),a=e.highlight(o),s.ei.on("click",(function(){e.filter=new l.Z({where:void 0}),a.remove()}))})),e.filter=new l.Z({where:"StatusLA = "+i})}))}))})),x.data.setAll(E);var y=a.container.children.push(h.D.new(a,{centerX:f.aQ(50),x:f.aQ(50),y:f.aQ(48),layout:a.verticalLayout}));A.current=y,y.data.setAll(x.dataItems),y.markers.template.setAll({width:18,height:18}),y.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),i.onPrivate("width",(function(e){var t=Math.max(e-i.height()-190,190);y.labels.template.setAll({width:t,maxWidth:t})}));return y.labels.template.setAll({oversizedBehavior:"truncate",fill:u.$_("#ffffff")}),y.valueLabels.template.setAll({textAlign:"right",width:50,fill:u.$_("#ffffff")}),y.itemContainers.template.setAll({paddingTop:1.1,paddingBottom:2}),x.appear(1e3,100),()=>{a.dispose()}}),[j,E]),(0,i.useEffect)((()=>{var e,t;null===(e=w.current)||void 0===e||e.data.setAll(E),null===(t=A.current)||void 0===t||t.data.setAll(w.current.dataItems)})),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"lotNumberImage",children:[(0,y.jsxs)("div",{style:{},children:[(0,y.jsx)("div",{className:"totalStructuresLabel",children:"TOTAL NON-LAND OWNERS "}),(0,y.jsx)("br",{}),(0,y.jsx)("br",{}),(0,y.jsxs)("b",{className:"permitToEnterNumber",children:[(0,x.oc)(R)," "]})]}),(0,y.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/NLO_Logo.svg",alt:"NLO Logo",height:"19%",width:"19%",style:{padding:"10px",margin:"auto"}})]}),(0,y.jsx)("div",{id:j,style:{height:"45vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginBottom:"-1.5vh"}})]})}))}}]);
//# sourceMappingURL=6935.79629e4c.chunk.js.map