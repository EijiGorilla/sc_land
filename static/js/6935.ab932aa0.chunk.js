"use strict";(self.webpackChunksc_land=self.webpackChunksc_land||[]).push([[6935],{36935:(e,t,a)=>{a.r(t),a.d(t,{default:()=>T});var l=a(72791),i=a(28979),r=a(71656),n=a(18661),s=a(21149),o=a(36801),c=a(59181),u=a(66817),d=a(97304),f=a(70565),h=a(56343),v=a(54797),m=a(27663),g=a(82308),p=a(80659),x=a(91934),w=a(44520),y=a(85580),b=a(26877),A=a(80184);const T=(0,l.memo)((e=>{let{municipal:t,barangay:a}=e;const T=(0,l.useRef)({}),k=(0,l.useRef)({}),L=(0,l.useRef)({}),[R,S]=(0,l.useState)([{category:String,value:Number,sliceSettings:{fill:u.$_("#00c5ff")}}]),[N,E]=(0,l.useState)(0),_="nlo-chart",j=`${b.Hg} = '`+t+"'",O=j+" AND "+(`${b.TR} = '`+a+"'");return i.vx.definitionExpression=t?t&&!a?j:O:"1=1",(0,l.useEffect)((()=>{(0,w.nf)(t,a).then((e=>{S(e)})),(0,w.wU)().then((e=>{E(e)}))}),[t,a]),(0,l.useEffect)((()=>{var e,t;t=_,o.S6(c.i_.rootElements,(function(e){e.dom.id===t&&e.dispose()}));var a=d.f.new(_);a.container.children.clear(),null===(e=a._logo)||void 0===e||e.dispose(),a.setThemes([p.Z.new(a),x.Z.new(a)]);var l=a.container.children.push(m.u.new(a,{layout:a.verticalLayout}));L.current=l;var w=l.series.push(g.f.new(a,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:f.aQ(45),innerRadius:f.aQ(28),scale:2.1}));T.current=w,l.series.push(w);let y=w.children.push(h._.new(a,{text:"[#ffffff]{valueSum}[/]\n[fontSize: 5px; #d3d3d3; verticalAlign: super]FAMILIES[/]",fontSize:13,centerX:f.aQ(50),centerY:f.aQ(40),populateText:!0,oversizedBehavior:"fit",textAlign:"center"}));w.onPrivate("width",(e=>{y.set("maxWidth",.7*e)})),w.slices.template.setAll({toggleKey:"none",fillOpacity:.9,stroke:u.$_("#ffffff"),strokeWidth:.5,strokeOpacity:1,templateField:"sliceSettings"}),w.labels.template.set("visible",!1),w.ticks.template.set("visible",!1),w.slices.template.events.on("click",(e=>{var t;const a=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category,l=b.Nc.find((e=>e.category===a)),o=null===l||void 0===l?void 0:l.value;var c,u=i.vx.createQuery();r.ei.when((function(){r.ei.whenLayerView(i.vx).then((e=>{i.vx.queryFeatures(u).then((function(t){const a=t.features.length;let l=[];for(var o=0;o<a;o++){var u=t.features[o].attributes.OBJECTID;l.push(u)}var d=new s.Z({objectIds:l});i.vx.queryExtent(d).then((function(e){e.extent&&r.ei.goTo(e.extent)})),c&&c.remove(),c=e.highlight(l),r.ei.on("click",(function(){e.filter=new n.Z({where:void 0}),c.remove()}))})),e.filter=new n.Z({where:b.D6+" = "+o})}))}))})),w.data.setAll(R);var A=l.children.push(v.D.new(a,{centerX:f.aQ(50),x:f.aQ(50),scale:.9}));k.current=A,A.data.setAll(w.dataItems),A.markers.template.setAll({width:18,height:18}),A.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),l.onPrivate("width",(function(e){var t=Math.max(e-l.height()-230,230);A.labels.template.setAll({width:t,maxWidth:t})}));return A.labels.template.setAll({oversizedBehavior:"truncate",fill:u.$_("#ffffff")}),A.valueLabels.template.setAll({textAlign:"right",width:50,fill:u.$_("#ffffff")}),A.itemContainers.template.setAll({paddingTop:3,paddingBottom:1}),w.appear(1e3,100),()=>{a.dispose()}}),[_,R]),(0,l.useEffect)((()=>{var e,t;null===(e=T.current)||void 0===e||e.data.setAll(R),null===(t=k.current)||void 0===t||t.data.setAll(T.current.dataItems)})),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(y.ZK,{children:"TOTAL NON-LAND OWNERS"}),(0,A.jsx)(y.ZK,{layout:"inline",children:(0,A.jsxs)("b",{className:"permitToEnterNumber",style:{color:b.u8},children:[(0,w.oc)(N),(0,A.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/NLO_Logo.svg",alt:"NLO Logo",height:"55%",width:"55%",style:{marginLeft:"200%",display:"flex",marginTop:"-17%"}})]})}),(0,A.jsx)("div",{id:_,style:{height:"45vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginBottom:"-1.5vh"}})]})}))}}]);
//# sourceMappingURL=6935.ab932aa0.chunk.js.map